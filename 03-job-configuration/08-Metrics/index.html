
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://raiffeisen-dgtl.github.io/checkita-data-quality/03-job-configuration/08-Metrics/">
      
      
        <link rel="prev" href="../07-LoadChecks/">
      
      
        <link rel="next" href="../09-Checks/">
      
      
      <link rel="icon" href="../../logo/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.1">
    
    
      
        <title>Metrics Configuration - Checkita Data Quality</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.45e1311d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="yellow" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#metrics-configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Checkita Data Quality" class="md-header__button md-logo" aria-label="Checkita Data Quality" data-md-component="logo">
      
  <img src="../../logo/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Checkita Data Quality
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Metrics Configuration
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Select language">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="./" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../ru/03-job-configuration/08-Metrics/" hreflang="ru" class="md-select__link">
              Русский
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Raiffeisen-DGTL/checkita-data-quality" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    checkita-data-quality
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../01-application-setup/" class="md-tabs__link">
          
  
    
  
  Application Setup

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../02-general-concepts/" class="md-tabs__link">
          
  
    
  
  General Concepts

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
    
  
  Job Configuration

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../changelog/CHANGELOG/" class="md-tabs__link">
        
  
    
  
  Changelog

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../contribution/" class="md-tabs__link">
          
  
    
  
  Contribution

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../api/" class="md-tabs__link">
        
  
    
  
  Scala API Doc

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Checkita Data Quality" class="md-nav__button md-logo" aria-label="Checkita Data Quality" data-md-component="logo">
      
  <img src="../../logo/logo.png" alt="logo">

    </a>
    Checkita Data Quality
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Raiffeisen-DGTL/checkita-data-quality" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    checkita-data-quality
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../01-application-setup/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Application Setup
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Application Setup
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-application-setup/01-ApplicationSettings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Application Settings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-application-setup/02-ApplicationSubmit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Submitting Data Quality Application
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-application-setup/03-ResultsStorage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Quality Results Storage
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../02-general-concepts/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    General Concepts
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            General Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02-general-concepts/01-WorkingWithDateTime/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Working with Date and Time
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02-general-concepts/02-EnvironmentAndExtraVariables/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage of Environment Variables and Extra Variables
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02-general-concepts/03-StatusModel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Status Model used in Results
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02-general-concepts/04-ErrorCollection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metric Error Collection
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02-general-concepts/05-StreamingMode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Quality Checks over Streaming Sources
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Job Configuration
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Job Configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-Connections/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Connections Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-Schemas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Schemas Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-Sources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sources Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-Streams/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Streaming Sources Configurations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-VirtualSources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Virtual Sources Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-VirtualStreams/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Virtual Streaming Sources Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-LoadChecks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Load Checks Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Metrics Configuration
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Metrics Configuration
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#regular-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Regular Metrics
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Regular Metrics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#row-count-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Row Count Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distinct-values-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Distinct Values Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approximate-distinct-values-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Approximate Distinct Values Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#null-values-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Null Values Metrics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#empty-values-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Empty Values Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#completeness-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Completeness Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequence-completeness-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Sequence Completeness Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approximate-sequence-completeness-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Approximate Sequence Completeness Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minimum-string-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Minimum String Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maximum-string-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Maximum String Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#average-string-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Average String Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#string-length-metric" class="md-nav__link">
    <span class="md-ellipsis">
      String Length Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#string-in-domain-metric" class="md-nav__link">
    <span class="md-ellipsis">
      String In Domain Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#string-out-domain-metric" class="md-nav__link">
    <span class="md-ellipsis">
      String Out Domain Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#string-values-metric" class="md-nav__link">
    <span class="md-ellipsis">
      String Values Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regex-match" class="md-nav__link">
    <span class="md-ellipsis">
      Regex Match
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regex-mismatch" class="md-nav__link">
    <span class="md-ellipsis">
      Regex Mismatch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#formatted-date-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Formatted Date Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#formatted-number-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Formatted Number Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minimum-number-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Minimum Number Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maximum-number-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Maximum Number Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sum-number-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Sum Number Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#average-number-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Average Number Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standard-deviation-number-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Standard Deviation Number Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#casted-number-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Casted Number Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#number-in-domain-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Number In Domain Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#number-out-domain-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Number Out Domain Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#number-less-than-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Number Less Than Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#number-greater-than-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Number Greater Than Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#number-between-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Number Between Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#number-not-between-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Number Not Between Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#number-values-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Number Values Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#median-value-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Median Value Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#first-quantile-metric" class="md-nav__link">
    <span class="md-ellipsis">
      First Quantile Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#third-quantile-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Third Quantile Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-quantile-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Get Quantile Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-percentile-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Get Percentile Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column-equality-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Column Equality Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#day-distance-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Day Distance Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#levenshtein-distance-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Levenshtein Distance Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comoment-metric" class="md-nav__link">
    <span class="md-ellipsis">
      CoMoment Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#covariance-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Covariance Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#covariance-bessel-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Covariance Bessel Metric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#top-n-metric" class="md-nav__link">
    <span class="md-ellipsis">
      Top N Metric
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#composed-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Composed Metrics
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metrics-configuration-example" class="md-nav__link">
    <span class="md-ellipsis">
      Metrics Configuration Example
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../09-Checks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Checks Configurations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../10-Targets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Targets Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../11-FileOutputs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    File Output Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../12-JobConfigExample/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Job Configuration Example
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/CHANGELOG/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../contribution/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Contribution
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Contribution
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contribution/code-of-conduct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code of Conduct
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contribution/contribution/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contribution Guide
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scala API Doc
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="metrics-configuration">Metrics Configuration</h1>
<p>Calculation of various metrics over the data is the main part of Data Quality job. Metrics allow evaluation of 
various indicators that describe data from both technical and business points of view. Indicators in their turn can
signal about problems in the data.</p>
<p>All metrics are linked to a source over which they are calculated. Such metrics are called <code>regular</code>. Apart from regular
metrics there is a special kind of metrics that can be calculated based on other metrics results thus allowing metric
compositions. These metrics are called <code>composed</code> accordingly.</p>
<p>Metrics are defined in <code>metrics</code> section of job configuration. Regular metrics are grouped by their type in
<code>regular</code> subsection while composed metrics are listed in <code>composed</code> subsection.</p>
<h2 id="regular-metrics">Regular Metrics</h2>
<p>All regular metrics are defined using following common parameters: </p>
<ul>
<li><code>id</code> - <em>Required</em>. Metric ID;</li>
<li><code>description</code> - <em>Optional</em>. Metric description.</li>
<li><code>source</code> - <em>Required</em>. Reference to a source ID over which metric is caclulated;</li>
<li><code>columns</code> - <em>Required</em>. List of columns over which metric is calculated. Regular metrics can be calculated for 
  multiple columns. This means that the result of the metrics will be calculated for row values in these columns.
  There could be a limitation imposed on number of columns which metric can process. 
  The only exception is <a href="#row-count-metric">Row Count Metric</a> which does not need columns to be specified.</li>
<li><code>params</code> - Some of the metrics may require additional parameters to be set. They should be specified within this
  object. The details on what parameters should be configured for metric are given below for each metric individually.
  Some metric definitions that require additional parameters are also have their default values set. In this case,
  <code>params</code> object can be omitted to use default options for all parameters.</li>
</ul>
<p>Additionally, some regular metrics have a logical condition that needs to be met when calculating metric increment per
each individual row. If metric condition is not met, then <code>Failure</code> status is returned for this particular row of data.
Scenario when metric can yield <code>Failure</code> status are explicitly described for each metric below.
See <a href="../../02-general-concepts/03-StatusModel/">Status Model used in Results</a> chapter for more information on status model.</p>
<h3 id="row-count-metric">Row Count Metric</h3>
<p>Calculates number of rows in the source. This is the only metric for which columns list should not be
specified as it is not required to compute number of rows. Metric definition does not require additional parameters:
<code>params</code> should not be set.</p>
<p>All row count metrics are defined in <code>rowCount</code> subsection.</p>
<h3 id="distinct-values-metric">Distinct Values Metric</h3>
<p>Counts number of unique values in provided columns. When applied to multiple columns, total
number of unique values in these columns is returned. Metric definition does not require additional parameters:
<code>params</code> should not be set.</p>
<p>All distinct values metrics are defined in <code>distinctValues</code> subsection.</p>
<blockquote>
<p><strong>IMPORTANT</strong>. Calculation of exact number of unique values required O(N) memory. Therefore, to prevent OOM errors
when working with extremely large dataset and with high-cardinality columns it is recommended to use
<a href="#approximate-distinct-values-metric">Approximate Distinct Values Metric</a> which uses HLL probabilistic algorithm
to estimate number of unique values.</p>
</blockquote>
<h3 id="approximate-distinct-values-metric">Approximate Distinct Values Metric</h3>
<p>Calculates number of unique values approximately, using 
<a href="https://twitter.github.io/algebird/datatypes/approx/hyperloglog.html">HyperLogLog</a> algorithm.</p>
<p><strong>This metric works with only one column.</strong></p>
<p>All approximate distinct values metrics are defined in <code>approximateDistinctValues</code> subsection. 
Additional parameters can be supplied:</p>
<ul>
<li><code>accuracyError</code> - <em>Optional, default is <code>0.01</code></em>. Accuracy error for estimating number of unique values.</li>
</ul>
<h3 id="null-values-metrics">Null Values Metrics</h3>
<p>Counts number of null values in the specified columns. When applied to multiple columns, total
number of null values in these columns is returned. Metric definition does not require additional parameters:
<code>params</code> should not be set.</p>
<p>All distinct values metrics are defined in <code>nullValues</code> subsection.</p>
<p>Metric increment returns <code>Failure</code> status for rows where some values in the specified columns are null.</p>
<h3 id="empty-values-metric">Empty Values Metric</h3>
<p>Counts number of empty values in the specified columns (i.e. empty string values). When applied to multiple columns,
total number of empty values in these columns is returned. Metric definition does not require additional parameters:
<code>params</code> should not be set.</p>
<p>All distinct values metrics are defined in <code>emptyValues</code> subsection.</p>
<p>Metric increment returns <code>Failure</code> status for rows where some values in the specified columns are empty.</p>
<h3 id="completeness-metric">Completeness Metric</h3>
<p>Calculates the measure of completeness in the specified columns: <code>(values_count - null_count) / values_count</code>.
When applied to multiple columns, total number of values and total number of nulls are used in the equation above.</p>
<p>All completeness metrics are defined in <code>completeness</code> subsection.
Additional parameters can be supplied:</p>
<ul>
<li><code>includeEmptyStrings</code> - <em>Optional, default is <code>false</code></em>. Boolean parameter indicating whether empty string values
  should be considered as nulls.</li>
</ul>
<h3 id="sequence-completeness-metric">Sequence Completeness Metric</h3>
<p>Calculates measure of completeness of an incremental sequence of integers. In other words, it looks for the missing 
elements in the sequence and returns the relation: <code>actual number of elements / required number of elements</code>.</p>
<p><strong>This metric works with only one column.</strong></p>
<p>The actual number of elements is just the number of unique values in the sequence.
This metric defines it exactly, and therefore requires <code>O(N)</code> memory to store these values.
Therefore, to prevent OOM errors for extremely large sequences, it is recommended to use
the <a href="#approximate-sequence-completeness-metric">Approximate Sequence Completeness Metric</a>, which uses HLL probabilistic
algorithm to estimate number of unique values.</p>
<p>The required number of elements is determined by the formula: <code>(max_value - min_value) / increment + 1</code>,
Where:
* <code>min_value</code> - the minimum value in the sequence;
* <code>max_value</code> - the maximum value in the sequence;
* <code>increment</code> - sequence step, default is 1.</p>
<p>All sequence completeness metrics are defined in <code>sequenceCompleteness</code> subsection.
Additional parameters can be supplied:</p>
<ul>
<li><code>incremet</code> - <em>Optional, default is <code>1</code></em>. Sequence increment step.</li>
</ul>
<h3 id="approximate-sequence-completeness-metric">Approximate Sequence Completeness Metric</h3>
<p>Calculates the measure of completeness of an incremental sequence of integers <strong><em>approximately</em></strong> using 
the <a href="https://twitter.github.io/algebird/datatypes/approx/hyperloglog.html">HyperLogLog</a> algorithm. Works in the same 
way is <a href="#sequence-completeness-metric">Sequence Completeness Metric</a> with only difference, that
actual number of elements in the sequence is determined approximately using HLL algorithm.</p>
<p><strong>This metric works with only one column.</strong></p>
<p>All approximate sequence completeness metrics are defined in <code>approximateSequenceCompleteness</code> subsection.
Additional parameters can be supplied:</p>
<ul>
<li><code>incremet</code> - <em>Optional, default is <code>1</code></em>. Sequence increment step.</li>
<li><code>accuracyError</code> - <em>Optional, default is <code>0.01</code></em>. Accuracy error for estimating number of unique values.</li>
</ul>
<h3 id="minimum-string-metric">Minimum String Metric</h3>
<p>Calculates the minimum string length in the values of the specified columns. 
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p>All minimum string metrics are defined in <code>minString</code> subsection.</p>
<p>Metric increment returns <code>Failure</code> status for rows where all values in the specified columns are not castable 
to string and, therefore, minimum string length cannot be computed.</p>
<h3 id="maximum-string-metric">Maximum String Metric</h3>
<p>Calculates the maximum string length in the values of the specified columns.
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p>All maximum string metrics are defined in <code>maxString</code> subsection.</p>
<p>Metric increment returns <code>Failure</code> status for rows where all values in the specified columns are not castable
to string and, therefore, maximum string length cannot be computed.</p>
<h3 id="average-string-metric">Average String Metric</h3>
<p>Calculates the average string length in the values of the specified columns.
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p>All average string metrics are defined in <code>avgString</code> subsection.</p>
<p>Metric increment returns <code>Failure</code> status for rows where all values in the specified columns are not castable
to string and, therefore, average string length cannot be computed.</p>
<h3 id="string-length-metric">String Length Metric</h3>
<p>Calculate number of values that meet the defined string length criteria.</p>
<p>All string length metrics are defined in <code>stringLength</code> subsection.
Additional parameters should be supplied:</p>
<ul>
<li><code>length</code> - <em>Required</em>. Required string length threshold.</li>
<li><code>compareRule</code> - <em>Required</em>. Comparison rule used to compare actual value string length with threshold one.<ul>
<li>Following comparison rules are supported: <code>eq</code> (==), <code>lt</code> (&lt;), <code>lte</code> (&lt;=), <code>gt</code> (&gt;), <code>gte</code> (&gt;=).</li>
</ul>
</li>
</ul>
<p>Metric increment returns <code>Failure</code> status for rows where some values in the specified columns do not meet defined string
length criteria.</p>
<h3 id="string-in-domain-metric">String In Domain Metric</h3>
<p>Counts number of values which fall into specified set of allowed values.</p>
<p>All string in domain metrics are defined in <code>stringInDomain</code> subsection.
Additional parameters should be supplied:</p>
<ul>
<li><code>domain</code> - <em>Required</em>. List of allowed values.</li>
</ul>
<p>Metric increment returns <code>Failure</code> status for rows where some values in the specified columns do not fall into set of 
allowed values.</p>
<h3 id="string-out-domain-metric">String Out Domain Metric</h3>
<p>Counts number of values which do <strong>not</strong> fall into specified set of avoided values.</p>
<p>All string out domain metrics are defined in <code>stringOutDomain</code> subsection.
Additional parameters should be supplied:</p>
<ul>
<li><code>domain</code> - <em>Required</em>. List of avoided values.</li>
</ul>
<p>Metric increment returns <code>Failure</code> status for rows where some values in the specified columns <strong>do fall into</strong> set of
avoided values.</p>
<h3 id="string-values-metric">String Values Metric</h3>
<p>Counts number of values that are equal to the value given in metric definition.</p>
<p>All string values metrics are defined in <code>stringValues</code> subsection.
Additional parameters should be supplied:</p>
<ul>
<li><code>compareValue</code> - <em>Required</em>. String value to compare with.</li>
</ul>
<p>Metric increment returns <code>Failure</code> status for rows where some values in the specified columns do not match defined
compare value.</p>
<h3 id="regex-match">Regex Match</h3>
<p>Calculates number of values that match the defined regular expression.</p>
<p>All regex match metrics are defined in <code>regexMatch</code> subsection.
Additional parameters should be supplied:</p>
<ul>
<li><code>regex</code> - <em>Required</em>. Regular expression to match.</li>
</ul>
<p>Metric increment returns <code>Failure</code> status for rows where some values in the specified columns do not match defined
regular expression.</p>
<h3 id="regex-mismatch">Regex Mismatch</h3>
<p>Calculates number of values that do <strong>not</strong> match the defined regular expression.</p>
<p>All regex mismatch metrics are defined in <code>regexMismatch</code> subsection.
Additional parameters should be supplied:</p>
<ul>
<li><code>regex</code> - <em>Required</em>. Regular expression that values should <strong>not</strong> match.</li>
</ul>
<p>Metric increment returns <code>Failure</code> status for rows where some values in the specified columns <strong>do match</strong> defined
regular expression.</p>
<h3 id="formatted-date-metric">Formatted Date Metric</h3>
<p>Counts number of values which have the specified datetime format.</p>
<p>All formatted date metrics are defined in <code>formattedDate</code> subsection.
Additional parameters can be supplied:</p>
<ul>
<li><code>dateFormat</code> - <em>Optional, default is <code>yyyy-MM-dd'T'HH:mm:ss.SSSZ</code></em>. Target datetime format. 
  The datetime format must be specified as 
  <a href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html">Java DateTimeFormatter</a> pattern.</li>
</ul>
<blockquote>
<p><strong>NOTE</strong> If the specified columns are of type <code>Timestamp</code>, it is assumed that they fit any datetime format and, 
therefore,  metric will return the total number of non-empty cells. 
Accordingly, the datetime format does not need to be specified.</p>
</blockquote>
<p>Metric increment returns <code>Failure</code> status for rows where some values in the specified columns do not conform to defined
datetime format.</p>
<h3 id="formatted-number-metric">Formatted Number Metric</h3>
<p>Counts number of values which are numeric and number format satisfy defined number format criteria.</p>
<p>All formatted date metrics are defined in <code>formattedNumber</code> subsection.
Additional parameters should be supplied:</p>
<ul>
<li><code>precision</code> - <em>Required</em>. The total number of digits in the value (excluding the decimal separator).</li>
<li><code>scale</code> - <em>Required</em>. Number of decimal digits in the value.</li>
<li><code>compareRule</code> - <em>Optional, default is <code>inbound</code></em>. Number format comparison rule:<ul>
<li><code>inbound</code> - the value must "fit" into the specified number format: 
  actual precision and scale of the value are less than or equal to given ones.</li>
<li><code>outbound</code> - the value must be outside the specified format: 
  actual precision and scale of the value are strictly greater than given ones.</li>
</ul>
</li>
</ul>
<p>Metric increment returns <code>Failure</code> status for rows where some values in the specified columns do not satisfy defined
number format criteria.</p>
<h3 id="minimum-number-metric">Minimum Number Metric</h3>
<p>Finds minimum number from the values in the specified columns.
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p>All minimum number metrics are defined in <code>minNumber</code> subsection.</p>
<p>Metric increment returns <code>Failure</code> status for rows where all values in the specified columns are not castable
to number and, therefore, minimum number cannot be computed.</p>
<h3 id="maximum-number-metric">Maximum Number Metric</h3>
<p>Finds maximum number from the values in the specified columns.
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p>All maximum number metrics are defined in <code>maxNumber</code> subsection.</p>
<p>Metric increment returns <code>Failure</code> status for rows where all values in the specified columns are not castable
to number and, therefore, maximum number cannot be computed.</p>
<h3 id="sum-number-metric">Sum Number Metric</h3>
<p>Finds sum of the values in the specified columns.
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p>All sum number metrics are defined in <code>sumNumber</code> subsection.</p>
<p>Metric increment returns <code>Failure</code> status for rows where some values in the specified columns are not castable
to number.</p>
<h3 id="average-number-metric">Average Number Metric</h3>
<p>Finds average of the values in the specified column.
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p><strong>This metric works with only one column.</strong></p>
<p>All average number metrics are defined in <code>avgNumber</code> subsection.</p>
<p>Metric increment returns <code>Failure</code> status for rows where value in the specified column is not castable
to number.</p>
<h3 id="standard-deviation-number-metric">Standard Deviation Number Metric</h3>
<p>Finds standard deviation for the values in the specified column.
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p><strong>This metric works with only one column.</strong></p>
<p>All average number metrics are defined in <code>stdNumber</code> subsection.</p>
<p>Metric increment returns <code>Failure</code> status for rows where value in the specified column is not castable
to number.</p>
<h3 id="casted-number-metric">Casted Number Metric</h3>
<p>Counts number of values which string value can be converted to a number (double).
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p>All sum number metrics are defined in <code>castedNumber</code> subsection.</p>
<p>Metric increment returns <code>Failure</code> status for rows where some values in the specified columns are not castable
to number.</p>
<h3 id="number-in-domain-metric">Number In Domain Metric</h3>
<p>Counts number of values which being cast to number (double) fall into specified set of allowed numbers.</p>
<p>All number in domain metrics are defined in <code>numberInDomain</code> subsection.
Additional parameters should be supplied:</p>
<ul>
<li><code>domain</code> - <em>Required</em>. List of allowed numbers.</li>
</ul>
<p>Metric increment returns <code>Failure</code> status for rows where some values in the specified columns do not fall into set of
allowed numbers.</p>
<h3 id="number-out-domain-metric">Number Out Domain Metric</h3>
<p>Counts number of values which being cast to number (double) do <strong>not</strong> fall into specified set of avoided numbers.</p>
<p>All number out domain metrics are defined in <code>numberOutDomain</code> subsection.
Additional parameters should be supplied:</p>
<ul>
<li><code>domain</code> - <em>Required</em>. List of avoided numbers.</li>
</ul>
<p>Metric increment returns <code>Failure</code> status for rows where some values in the specified columns <strong>do fall into</strong> set of
avoided numbers.</p>
<h3 id="number-less-than-metric">Number Less Than Metric</h3>
<p>Counts number of values which being cast to number (double) are less than (or equal to) the specified value.</p>
<p>All number less than metrics are defined in <code>numberLessThan</code> subsection.
Additional parameters should be supplied:</p>
<ul>
<li><code>compareValue</code> - <em>Required</em>. Number to compare with.</li>
<li><code>includeBound</code> - <em>Optional, default is <code>false</code></em>. Specifies whether to include <code>compareValue</code> in the range for comparison.</li>
</ul>
<p>Metric increment returns <code>Failure</code> status for rows where some values in the specified columns do not satisfy the 
comparison criteria.</p>
<h3 id="number-greater-than-metric">Number Greater Than Metric</h3>
<p>Counts number of values which being cast to number (double) are greater than (or equal to) the specified value.</p>
<p>All number greater than metrics are defined in <code>numberGreaterThan</code> subsection.
Additional parameters should be supplied:</p>
<ul>
<li><code>compareValue</code> - <em>Required</em>. Number to compare with.</li>
<li><code>includeBound</code> - <em>Optional, default is <code>false</code></em>. Specifies whether to include <code>compareValue</code> in the range for comparison.</li>
</ul>
<p>Metric increment returns <code>Failure</code> status for rows where some values in the specified columns do not satisfy the
comparison criteria.</p>
<h3 id="number-between-metric">Number Between Metric</h3>
<p>Counts number of values which being cast to number (double) are within the given interval.</p>
<p>All number between metrics are defined in <code>numberBetween</code> subsection.
Additional parameters should be supplied:</p>
<ul>
<li><code>lowerCompareValue</code> - <em>Required</em>. The lower bound of the interval.</li>
<li><code>upperCompareValue</code> - <em>Required</em>. The upper bound of the interval.</li>
<li><code>includeBound</code> - <em>Optional, default is <code>false</code></em>. Specifies whether to include interval bounds in the range for comparison.</li>
</ul>
<p>Metric increment returns <code>Failure</code> status for rows where some values in the specified columns do not satisfy the
comparison criteria.</p>
<h3 id="number-not-between-metric">Number Not Between Metric</h3>
<p>Counts number of values which being cast to number (double) are outside the given interval.</p>
<p>All number between metrics are defined in <code>numberNotBetween</code> subsection.
Additional parameters should be supplied:</p>
<ul>
<li><code>lowerCompareValue</code> - <em>Required</em>. The lower bound of the interval.</li>
<li><code>upperCompareValue</code> - <em>Required</em>. The upper bound of the interval.</li>
<li><code>includeBound</code> - <em>Optional, default is <code>false</code></em>. Specifies whether to include interval bounds in the range for comparison.</li>
</ul>
<p>Metric increment returns <code>Failure</code> status for rows where some values in the specified columns do not satisfy the
comparison criteria.</p>
<h3 id="number-values-metric">Number Values Metric</h3>
<p>Counts number of values which being cast to number (double) are equal to the number given in metric definition.</p>
<p>All number values metrics are defined in <code>numberValues</code> subsection.
Additional parameters should be supplied:</p>
<ul>
<li><code>compareValue</code> - <em>Required</em>. Number value to compare with.</li>
</ul>
<p>Metric increment returns <code>Failure</code> status for rows where some values in the specified columns do not match defined
compare value.</p>
<h3 id="median-value-metric">Median Value Metric</h3>
<p>Calculates median value of the values in the specified column. Metric calculator uses 
<a href="https://github.com/isarn/isarn-sketches">TDigest</a> library for computation of median value.</p>
<p><strong>This metric works with only one column.</strong></p>
<p>All median value metrics are defined in <code>medianValue</code> subsection.
Additional parameters can be supplied:</p>
<ul>
<li><code>accuracyError</code> - <em>Optional, default is <code>0.01</code></em>. Accuracy error for calculation of median value.</li>
</ul>
<p>Metric increment returns <code>Failure</code> status for rows where value in the specified column is not castable
to number.</p>
<h3 id="first-quantile-metric">First Quantile Metric</h3>
<p>Calculates first quantile for the values in the specified column. Metric calculator uses
<a href="https://github.com/isarn/isarn-sketches">TDigest</a> library for computation of first quantile.</p>
<p><strong>This metric works with only one column.</strong></p>
<p>All median value metrics are defined in <code>firstQuantile</code> subsection.
Additional parameters can be supplied:</p>
<ul>
<li><code>accuracyError</code> - <em>Optional, default is <code>0.01</code></em>. Accuracy error for calculation of first quantile value.</li>
</ul>
<p>Metric increment returns <code>Failure</code> status for rows where value in the specified column is not castable
to number.</p>
<h3 id="third-quantile-metric">Third Quantile Metric</h3>
<p>Calculates third quantile for the values in the specified column. Metric calculator uses
<a href="https://github.com/isarn/isarn-sketches">TDigest</a> library for computation of third quantile.</p>
<p><strong>This metric works with only one column.</strong></p>
<p>All third value metrics are defined in <code>thirdQuantile</code> subsection.
Additional parameters can be supplied:</p>
<ul>
<li><code>accuracyError</code> - <em>Optional, default is <code>0.01</code></em>. Accuracy error for calculation of third value.</li>
</ul>
<p>Metric increment returns <code>Failure</code> status for rows where value in the specified column is not castable
to number.</p>
<h3 id="get-quantile-metric">Get Quantile Metric</h3>
<p>Calculates an arbitrary quantile for the values in the specified column. Metric calculator uses
<a href="https://github.com/isarn/isarn-sketches">TDigest</a> library for computation of quantile.</p>
<p><strong>This metric works with only one column.</strong></p>
<p>All get quantile metrics are defined in <code>getQuantile</code> subsection.
Additional parameters should be supplied:</p>
<ul>
<li><code>accuracyError</code> - <em>Optional, default is <code>0.01</code></em>. Accuracy error for calculation of quantile value.</li>
<li><code>target</code> - <em>Required</em>. A number in the interval <code>[0, 1]</code> corresponding to the quantile that need to be caclulated.</li>
</ul>
<p>Metric increment returns <code>Failure</code> status for rows where value in the specified column is not castable
to number.</p>
<h3 id="get-percentile-metric">Get Percentile Metric</h3>
<p>This metric is inverse of <a href="#get-quantile-metric">Get Quantile Metric</a>. It calculates a percentile value
(quantile in %) which corresponds to the specified number from the set of values in the column.
Metric calculator uses <a href="https://github.com/isarn/isarn-sketches">TDigest</a> library for computation of percentile value.</p>
<p><strong>This metric works with only one column.</strong></p>
<p>All get percentile metrics are defined in <code>getPercentile</code> subsection.
Additional parameters should be supplied:</p>
<ul>
<li><code>accuracyError</code> - <em>Optional, default is <code>0.01</code></em>. Accuracy error for calculation of percentile.</li>
<li><code>target</code> - <em>Required</em>. The number from the set of values in the column, for which percentile
  is determined.</li>
</ul>
<p>Metric increment returns <code>Failure</code> status for rows where value in the specified column is not castable
to number.</p>
<h3 id="column-equality-metric">Column Equality Metric</h3>
<p>Calculates the number of rows where values in the specified columns are equal to each other.
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p><strong>This metric works with at least two columns.</strong></p>
<p>All column equality metrics are defined in <code>columnEq</code> subsection.</p>
<p>Metric increment returns <code>Failure</code> status for rows where some values in the specified column are not castable to string
or when they are not equal.</p>
<h3 id="day-distance-metric">Day Distance Metric</h3>
<p>Calculates the number of rows where difference between date in two columns expressed in terms of days is less
(strictly less) than the specified threshold value.</p>
<p><strong>This metric works with exactly two columns.</strong></p>
<p>All day distance metrics are defined in <code>dayDistance</code> subsection.
Additional parameters should be supplied:</p>
<ul>
<li><code>threshold</code> - <em>Required</em>. Maximum allowed difference between two dates in days
  (not included in the range for comparison).</li>
<li><code>dateFormat</code> - <em>Optional, default is <code>yyyy-MM-dd'T'HH:mm:ss.SSSZ</code></em>. Target datetime format.
  The datetime format must be specified as
  <a href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html">Java DateTimeFormatter</a> pattern.</li>
</ul>
<blockquote>
<p><strong>NOTE</strong> If the specified columns are of type <code>Timestamp</code>, it is assumed that they fit any datetime format and,
therefore,  metric will return the total number of non-empty cells.
Accordingly, the datetime format does not need to be specified.</p>
</blockquote>
<p>Metric increment returns <code>Failure</code> status for rows where some values in the specified columns do not conform to 
the specified datetime format or when date difference in days is greater than or equal to specified threshold.</p>
<h3 id="levenshtein-distance-metric">Levenshtein Distance Metric</h3>
<p>Calculates number of rows where Levenshtein distance between string values in the provided columns is less than
(strictly less) specified threshold.</p>
<p><strong>This metric works with exactly two columns.</strong></p>
<p>All levenshtein distance metrics are defined in <code>levenshteinDistance</code> subsection.
Additional parameters should be supplied:</p>
<ul>
<li><code>threshold</code> - <em>Required</em>. Maximum allowed Levenshtein distance.</li>
<li><code>normalize</code> - <em>Optional, default is <code>false</code></em>. Boolean parameter indicating whether the Levenshtein distance
  should be normalized with respect to the maximum of the two string lengths.</li>
</ul>
<blockquote>
<p><strong>IMPORTANT</strong>. If Levenshtein distance is normalized then threshold value must be in range <code>[0, 1]</code>.</p>
</blockquote>
<p>Metric increment returns <code>Failure</code> status for rows where some values in the specified columns are not castable to string
or when Levenshtein distance is greater than or equal to specified threshold.</p>
<h3 id="comoment-metric">CoMoment Metric</h3>
<p>Calculates the covariance moment of the values in two columns (co-moment).
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p><strong>This metric works with exactly two columns.</strong></p>
<blockquote>
<p><strong>IMPORTANT</strong>. For the metric to be calculated, values in the specified columns must not be empty or null and 
also can be cast to number (double). If at least one corrupt value is found, then metric calculator returns NaN value.</p>
</blockquote>
<p>Metric increment returns <code>Failure</code> status for rows where some values in the specified columns cannot be cast to number.</p>
<h3 id="covariance-metric">Covariance Metric</h3>
<p>Calculates the covariance of the values in two columns.
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p><strong>This metric works with exactly two columns.</strong></p>
<blockquote>
<p><strong>IMPORTANT</strong>. For the metric to be calculated, values in the specified columns must not be empty or null and
also can be cast to number (double). If at least one corrupt value is found, then metric calculator returns NaN value.</p>
</blockquote>
<p>Metric increment returns <code>Failure</code> status for rows where some values in the specified columns cannot be cast to number.</p>
<h3 id="covariance-bessel-metric">Covariance Bessel Metric</h3>
<p>Calculates the covariance of the values in two columns with the Bessel correction.
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p><strong>This metric works with exactly two columns.</strong></p>
<blockquote>
<p><strong>IMPORTANT</strong>. For the metric to be calculated, values in the specified columns must not be empty or null and
also can be cast to number (double). If at least one corrupt value is found, then metric calculator returns NaN value.</p>
</blockquote>
<p>Metric increment returns <code>Failure</code> status for rows where some values in the specified columns cannot be cast to number.</p>
<h3 id="top-n-metric">Top N Metric</h3>
<p>This is a specific metric that calculates approximate N most frequently occurring values in a column.
The metric calculator uses <a href="https://github.com/twitter/algebird">Twitter Algebird</a> library,
which implements abstract algebra methods for Scala.</p>
<p><strong>This metric works with only one column.</strong></p>
<p>All top N metrics are defined in <code>topN</code> subsection.
Additional parameters can be supplied:</p>
<ul>
<li><code>targetNumber</code> - <em>Optional, default is <code>10</code></em>. Number N of values to search.</li>
<li><code>maxCapacity</code> - <em>Optional, default is <code>100</code></em>. Maximum container size for storing top values.</li>
</ul>
<h2 id="composed-metrics">Composed Metrics</h2>
<p>Composed metrics are defined using a formula (specified in the <code>formula</code> field) for their calculation. 
As composed metric are intended for using other metric results to compute a derivative result then, these metrics
can be referenced in the formula by their IDs. </p>
<p>Formula must be written using <a href="https://mustache.github.io/mustache.5.html">Mustache Template</a> notation, e.g.:
<code>{{ metric_1 }} + {{ metic_2 }}</code>.</p>
<p>Basic (+-*/) and exponentiation (^) math operations are supported, as well as grouping using parentheses.</p>
<p>This, composed metrics are defined in the <code>composed</code> subsection using following parameters:</p>
<ul>
<li><code>id</code> - <em>Required</em>. Composed metric ID;</li>
<li><code>description</code> - <em>Optional</em>. Composed metric description.</li>
<li><code>formula</code> - <em>Required</em>. Formula to calculate composed metric</li>
</ul>
<h2 id="metrics-configuration-example">Metrics Configuration Example</h2>
<p>As it is shown in the example below, regular metrics of the same type are grouped within subsections named after the 
type of the metric. These subsections should contain a list of metrics configurations of the corresponding type.
Composed metrics are listed in the separate subsection.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1">jobConfig: {
</span><span id="__span-0-2">  metrics: {
</span><span id="__span-0-3">    regular: {
</span><span id="__span-0-4">      rowCount: [
</span><span id="__span-0-5">        {id: &quot;hive_table_row_cnt&quot;, description: &quot;Row count in hive_source_1&quot;, source: &quot;hive_source_1&quot;},
</span><span id="__span-0-6">        {id: &quot;csv_file_row_cnt&quot;, description: &quot;Row count in hdfs_delimited_source&quot;, source: &quot;hdfs_delimited_source&quot;}
</span><span id="__span-0-7">      ]
</span><span id="__span-0-8">      distinctValues: [
</span><span id="__span-0-9">        {
</span><span id="__span-0-10">          id: &quot;fixed_file_dist_name&quot;, description: &quot;Distinct values in hdfs_fixed_file&quot;,
</span><span id="__span-0-11">          source: &quot;hdfs_fixed_file&quot;, columns: [&quot;colA&quot;]
</span><span id="__span-0-12">        }
</span><span id="__span-0-13">      ]
</span><span id="__span-0-14">      nullValues: [
</span><span id="__span-0-15">        {id: &quot;hive_table_nulls&quot;, description: &quot;Null values in columns id and name&quot;, source: &quot;hive_source_1&quot;, columns: [&quot;id&quot;, &quot;name&quot;]}
</span><span id="__span-0-16">      ]
</span><span id="__span-0-17">      completeness: [
</span><span id="__span-0-18">        {id: &quot;orc_data_compl&quot;, description: &quot;Completness of column id&quot;, source: &quot;hdfs_orc_source&quot;, columns: [&quot;id&quot;]}
</span><span id="__span-0-19">        {
</span><span id="__span-0-20">          id: &quot;hive_table_nulls&quot;, 
</span><span id="__span-0-21">          description: &quot;Completness of columns id and name&quot;, 
</span><span id="__span-0-22">          source: &quot;hive_source_1&quot;, 
</span><span id="__span-0-23">          columns: [&quot;id&quot;, &quot;name&quot;]
</span><span id="__span-0-24">        }
</span><span id="__span-0-25">      ]
</span><span id="__span-0-26">      avgNumber: [
</span><span id="__span-0-27">        {id: &quot;avro_file1_avg_bal&quot;, description: &quot;Avg number of column balance&quot;, source: &quot;hdfs_avro_source&quot;, columns: [&quot;balance&quot;]}
</span><span id="__span-0-28">      ]
</span><span id="__span-0-29">      regexMatch: [
</span><span id="__span-0-30">        {
</span><span id="__span-0-31">          id: &quot;table_source1_inn_regex&quot;, description: &quot;Regex match for inn column&quot;, source: &quot;table_source_1&quot;,
</span><span id="__span-0-32">          columns: [&quot;inn&quot;], params: {regex: &quot;&quot;&quot;^\d{10}$&quot;&quot;&quot;}
</span><span id="__span-0-33">        }
</span><span id="__span-0-34">      ]
</span><span id="__span-0-35">      stringInDomain: [
</span><span id="__span-0-36">        {
</span><span id="__span-0-37">          id: &quot;orc_data_segment_domain&quot;, source: &quot;hdfs_orc_source&quot;,
</span><span id="__span-0-38">          columns: [&quot;segment&quot;], params: {domain: [&quot;FI&quot;, &quot;MID&quot;, &quot;SME&quot;, &quot;INTL&quot;, &quot;CIB&quot;]}
</span><span id="__span-0-39">        }
</span><span id="__span-0-40">      ]
</span><span id="__span-0-41">      topN: [
</span><span id="__span-0-42">        {
</span><span id="__span-0-43">          id: &quot;filterVS_top3_currency&quot;, description: &quot;Top 3 currency in filterVS&quot;, source: &quot;filterVS&quot;,
</span><span id="__span-0-44">          columns: [&quot;id&quot;], params: {targetNumber: 3, maxCapacity: 10}
</span><span id="__span-0-45">        }
</span><span id="__span-0-46">      ],
</span><span id="__span-0-47">      levenshteinDistance: [
</span><span id="__span-0-48">        {
</span><span id="__span-0-49">          id: &quot;lvnstDist&quot;, source: &quot;table_source_2&quot;, columns: [&quot;col1&quot;, &quot;col2&quot;],
</span><span id="__span-0-50">          params: {normalize: true, threshold: 0.3}
</span><span id="__span-0-51">        }
</span><span id="__span-0-52">      ]
</span><span id="__span-0-53">    }
</span><span id="__span-0-54">    composed: [
</span><span id="__span-0-55">      {
</span><span id="__span-0-56">        id: &quot;pct_of_null&quot;, description: &quot;Percent of null values in hive_table1&quot;,
</span><span id="__span-0-57">        formula: &quot;100 * {{ hive_table_nulls }} ^ 2 / ( {{ hive_table_row_cnt }} + 1)&quot;
</span><span id="__span-0-58">      }
</span><span id="__span-0-59">    ]
</span><span id="__span-0-60">  }
</span><span id="__span-0-61">}
</span></code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "toc.follow", "toc.integrate"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
    
  </body>
</html>