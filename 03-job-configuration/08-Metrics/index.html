
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://raiffeisen-dgtl.github.io/checkita-data-quality/03-job-configuration/08-Metrics/" rel="canonical"/>
<link href="../07-LoadChecks/" rel="prev"/>
<link href="../09-Checks/" rel="next"/>
<link href="../../logo/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.5.49" name="generator"/>
<title>Metrics Configuration - Checkita Data Quality</title>
<link href="../../assets/stylesheets/main.6f8fc17f.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="yellow" data-md-color-scheme="slate" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#metrics-configuration">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Checkita Data Quality" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Checkita Data Quality">
<img alt="logo" src="../../logo/logo.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Checkita Data Quality
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Metrics Configuration
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/Raiffeisen-DGTL/checkita-data-quality" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
</div>
<div class="md-source__repository">
    checkita-data-quality
  </div>
</a>
</div>
</nav>
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
        
  
    
  
  Home

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../01-application-setup/">
          
  
    
  
  Application Setup

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../02-general-information/">
          
  
    
  
  General Information

        </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../">
          
  
    
  
  Job Configuration

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../changelog/CHANGELOG/">
        
  
    
  
  Changelog

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../contribution/">
          
  
    
  
  Contribution

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../api/">
        
  
    
  
  Scala API Doc

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../swagger/">
        
  
    
  
  Swagger Doc

      </a>
</li>
</ul>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Checkita Data Quality" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Checkita Data Quality">
<img alt="logo" src="../../logo/logo.png"/>
</a>
    Checkita Data Quality
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/Raiffeisen-DGTL/checkita-data-quality" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
</div>
<div class="md-source__repository">
    checkita-data-quality
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    Home
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../01-application-setup/">
<span class="md-ellipsis">
    Application Setup
  </span>
</a>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            Application Setup
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../01-application-setup/01-ApplicationSettings/">
<span class="md-ellipsis">
    Application Settings
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../01-application-setup/02-ApplicationSubmit/">
<span class="md-ellipsis">
    Submitting Data Quality Application
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../01-application-setup/03-ResultsStorage/">
<span class="md-ellipsis">
    Data Quality Results Storage
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../01-application-setup/04-APIServer/">
<span class="md-ellipsis">
    API Server
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../02-general-information/">
<span class="md-ellipsis">
    General Information
  </span>
</a>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            General Information
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../02-general-information/01-WorkingWithDateTime/">
<span class="md-ellipsis">
    Working with Date and Time
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../02-general-information/02-EnvironmentAndExtraVariables/">
<span class="md-ellipsis">
    Usage of Environment Variables and Extra Variables
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../02-general-information/03-StatusModel/">
<span class="md-ellipsis">
    Status Model used in Results
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../02-general-information/04-ErrorCollection/">
<span class="md-ellipsis">
    Metric Error Collection
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../02-general-information/05-StreamingMode/">
<span class="md-ellipsis">
    Data Quality Checks over Streaming Sources
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../02-general-information/06-MetricSQLEquivalency/">
<span class="md-ellipsis">
    Metrics SQL Equivalency
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../02-general-information/07-MetricCalculatorEngines/">
<span class="md-ellipsis">
    Metric Calculator Engines Overview and Benchmarking
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../02-general-information/08-CheckFailureTolerance/">
<span class="md-ellipsis">
    Check Failure Tolerance
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../">
<span class="md-ellipsis">
    Job Configuration
  </span>
</a>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            Job Configuration
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../01-Connections/">
<span class="md-ellipsis">
    Connections Configuration
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../02-Schemas/">
<span class="md-ellipsis">
    Schemas Configuration
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../03-Sources/">
<span class="md-ellipsis">
    Sources Configuration
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../04-Streams/">
<span class="md-ellipsis">
    Streaming Sources Configurations
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../05-VirtualSources/">
<span class="md-ellipsis">
    Virtual Sources Configuration
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../06-VirtualStreams/">
<span class="md-ellipsis">
    Virtual Streaming Sources Configuration
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../07-LoadChecks/">
<span class="md-ellipsis">
    Load Checks Configuration
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    Metrics Configuration
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    Metrics Configuration
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#regular-metrics">
<span class="md-ellipsis">
      Regular Metrics
    </span>
</a>
<nav aria-label="Regular Metrics" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#reversible-metrics">
<span class="md-ellipsis">
      Reversible Metrics
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#row-count-metric">
<span class="md-ellipsis">
      Row Count Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#duplicate-values-metric">
<span class="md-ellipsis">
      Duplicate Values Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#distinct-values-metric">
<span class="md-ellipsis">
      Distinct Values Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#approximate-distinct-values-metric">
<span class="md-ellipsis">
      Approximate Distinct Values Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#null-values-metrics">
<span class="md-ellipsis">
      Null Values Metrics
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#empty-values-metric">
<span class="md-ellipsis">
      Empty Values Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#completeness-metric">
<span class="md-ellipsis">
      Completeness Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#emptiness-metric">
<span class="md-ellipsis">
      Emptiness Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#sequence-completeness-metric">
<span class="md-ellipsis">
      Sequence Completeness Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#approximate-sequence-completeness-metric">
<span class="md-ellipsis">
      Approximate Sequence Completeness Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#minimum-string-metric">
<span class="md-ellipsis">
      Minimum String Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#maximum-string-metric">
<span class="md-ellipsis">
      Maximum String Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#average-string-metric">
<span class="md-ellipsis">
      Average String Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#string-length-metric">
<span class="md-ellipsis">
      String Length Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#string-in-domain-metric">
<span class="md-ellipsis">
      String In Domain Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#string-out-domain-metric">
<span class="md-ellipsis">
      String Out Domain Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#string-values-metric">
<span class="md-ellipsis">
      String Values Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#regex-match">
<span class="md-ellipsis">
      Regex Match
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#regex-mismatch">
<span class="md-ellipsis">
      Regex Mismatch
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#formatted-date-metric">
<span class="md-ellipsis">
      Formatted Date Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#formatted-number-metric">
<span class="md-ellipsis">
      Formatted Number Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#minimum-number-metric">
<span class="md-ellipsis">
      Minimum Number Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#maximum-number-metric">
<span class="md-ellipsis">
      Maximum Number Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#sum-number-metric">
<span class="md-ellipsis">
      Sum Number Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#average-number-metric">
<span class="md-ellipsis">
      Average Number Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#standard-deviation-number-metric">
<span class="md-ellipsis">
      Standard Deviation Number Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#casted-number-metric">
<span class="md-ellipsis">
      Casted Number Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#number-in-domain-metric">
<span class="md-ellipsis">
      Number In Domain Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#number-out-domain-metric">
<span class="md-ellipsis">
      Number Out Domain Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#number-less-than-metric">
<span class="md-ellipsis">
      Number Less Than Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#number-greater-than-metric">
<span class="md-ellipsis">
      Number Greater Than Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#number-between-metric">
<span class="md-ellipsis">
      Number Between Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#number-not-between-metric">
<span class="md-ellipsis">
      Number Not Between Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#number-values-metric">
<span class="md-ellipsis">
      Number Values Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#median-value-metric">
<span class="md-ellipsis">
      Median Value Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#first-quantile-metric">
<span class="md-ellipsis">
      First Quantile Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#third-quantile-metric">
<span class="md-ellipsis">
      Third Quantile Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#get-quantile-metric">
<span class="md-ellipsis">
      Get Quantile Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#get-percentile-metric">
<span class="md-ellipsis">
      Get Percentile Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#column-equality-metric">
<span class="md-ellipsis">
      Column Equality Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#day-distance-metric">
<span class="md-ellipsis">
      Day Distance Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#levenshtein-distance-metric">
<span class="md-ellipsis">
      Levenshtein Distance Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#comoment-metric">
<span class="md-ellipsis">
      CoMoment Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#covariance-metric">
<span class="md-ellipsis">
      Covariance Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#covariance-bessel-metric">
<span class="md-ellipsis">
      Covariance Bessel Metric
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#top-n-metric">
<span class="md-ellipsis">
      Top N Metric
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#composed-metrics">
<span class="md-ellipsis">
      Composed Metrics
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#trend-metrics">
<span class="md-ellipsis">
      Trend Metrics
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#metrics-configuration-example">
<span class="md-ellipsis">
      Metrics Configuration Example
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../09-Checks/">
<span class="md-ellipsis">
    Checks Configurations
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../10-Targets/">
<span class="md-ellipsis">
    Targets Configuration
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../11-FileOutputs/">
<span class="md-ellipsis">
    File Output Configuration
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../12-JobConfigExample/">
<span class="md-ellipsis">
    Job Configuration Example
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../changelog/CHANGELOG/">
<span class="md-ellipsis">
    Changelog
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../contribution/">
<span class="md-ellipsis">
    Contribution
  </span>
</a>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            Contribution
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../contribution/code-of-conduct/">
<span class="md-ellipsis">
    Code of Conduct
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../contribution/contribution/">
<span class="md-ellipsis">
    Contribution Guide
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/">
<span class="md-ellipsis">
    Scala API Doc
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../swagger/">
<span class="md-ellipsis">
    Swagger Doc
  </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="metrics-configuration">Metrics Configuration</h1>
<p>Calculation of various metrics over the data is the main part of Data Quality job. Metrics allow evaluation of 
various indicators that describe data from both technical and business points of view. Indicators in their turn can
signal about problems in the data.</p>
<p>Most of the metrics are linked to a source over which they are calculated. Most of the metrics are computed directly over 
the data source. Such metrics are called <code>regular</code>. Apart from regular metrics there are two special kinds of metrics:</p>
<ul>
<li><code>composed</code> metrics - can be calculated based on other metrics results thus allowing metric compositions.</li>
<li><code>trend</code> metrics - calculated using historical results of lookup metric thus allowing to compute some statistics over
  historical metric results.</li>
</ul>
<p>Metrics are defined in <code>metrics</code> section of job configuration. Regular metrics are grouped by their type in
<code>regular</code> subsection. Composed and trend metrics are listed in <code>composed</code> and <code>trend</code> subsections respectively. </p>
<h2 id="regular-metrics">Regular Metrics</h2>
<p>All regular metrics are defined using following common parameters: </p>
<ul>
<li><code>id</code> - <em>Required</em>. Metric ID;</li>
<li><code>description</code> - <em>Optional</em>. Metric description.</li>
<li><code>source</code> - <em>Required</em>. Reference to a source ID over which metric is calculated;</li>
<li><code>columns</code> - <em>Required</em>. List of columns over which metric is calculated. Regular metrics can be calculated for 
  multiple columns. This means that the result of the metrics will be calculated for row values in these columns.
  There could be a limitation imposed on number of columns which metric can process. 
  The only exception is <a href="#row-count-metric">Row Count Metric</a> which does not need columns to be specified.</li>
<li><code>params</code> - Some of the metrics may require additional parameters to be set. They should be specified within this
  object. The details on what parameters should be configured for metric are given below for each metric individually.
  Some metric definitions that require additional parameters are also have their default values set. In this case,
  <code>params</code> object can be omitted to use default options for all parameters.</li>
<li><code>metadata</code> - <em>Optional</em>. List of user-defined metadata parameters specific to this metric where each parameter
  is a string in format: <code>param.name=param.value</code>.</li>
</ul>
<h4 id="reversible-metrics">Reversible Metrics</h4>
<p>Some regular metrics have a logical condition that needs to be met when calculating metric increment per
each individual row. These metrics can <strong><em>fail</em></strong> if this condition is not met. What is more importantly,
is that in some situations it is quite desirable that metric will <strong><em>fail</em></strong> when its condition IS met.</p>
<p>In order to support such functionality, we made error collection logic for regular metrics with condition
to be reversible. This means, that you can choose whether metric fails, when its condition is met or vice versa.
This is controlled via additional boolean parameter called <code>reversed</code>. This parameter is optional and
is set to <code>false</code> for most of the regular metrics with condition.</p>
<p>Further, regular metrics with condition will be called <strong><em>reversible metrics</em></strong> due to fact that error
collection logic for them can be reversed. Thus, if <code>reversed</code> parameter is set to <code>false</code> and metric 
condition is not met, then <code>Failure</code> status is returned for this particular row of data. In case if
<code>reversed</code> parameter is set to <code>true</code> metric will fail when its condition IS met.</p>
<p>Regular metrics that do not have logical condition can also fail, but their failure logic is not reversible.</p>
<p>Scenario when metric can yield <code>Failure</code> status are explicitly described for each metric below.
See <a href="../../02-general-information/03-StatusModel/">Status Model used in Results</a> chapter for more information on status model.</p>
<h3 id="row-count-metric">Row Count Metric</h3>
<p>Calculates number of rows in the source. This is the only metric for which columns list should not be
specified as it is not required to compute number of rows. Metric definition does not require additional parameters:
<code>params</code> should not be set.</p>
<p>Metric is not reversible and cannot fail (might only return <code>Error</code> status in case of some runtime exception).</p>
<p>All row count metrics are defined in <code>rowCount</code> subsection.</p>
<h3 id="duplicate-values-metric">Duplicate Values Metric</h3>
<p>Counts number of duplicate values in provided columns. When applied to multiple columns, number of duplicate
tuples is returned. Metric definition does not require additional parameters:
<code>params</code> should not be set.</p>
<p>Metric is not reversible and fails only when duplicate value (or tuple for multi-column definition) is found.</p>
<p>All duplicate values metrics are defined in <code>duplicateValues</code> subsection.</p>
<blockquote>
<p><strong>IMPORTANT</strong>. When using RDD-engine, calculation of exact number of duplicate values required O(N) memory. 
Therefore, computing exact number of duplicates might cause OOM errors. Consider using DF-engine if exact number
of duplicates is required. DF-engine uses Spark shuffle mechanism to group data by column (or columns) of interest and
count duplicated values. Alternatively, there is an option to calculate approximate number of distinct values
using HLL-based metric calculator <a href="#approximate-distinct-values-metric">Approximate Distinct Values Metric</a>.
Comparing number of distinct values to total number of rows can yield estimated number of duplicate values.</p>
</blockquote>
<h3 id="distinct-values-metric">Distinct Values Metric</h3>
<p>Counts number of unique values in provided columns. When applied to multiple columns, total
number of unique tuples is returned. Metric definition does not require additional parameters:
<code>params</code> should not be set.</p>
<p>Metric is not reversible and fails only when null value (or tuple) is found.</p>
<p>All distinct values metrics are defined in <code>distinctValues</code> subsection.</p>
<blockquote>
<p><strong>IMPORTANT</strong>. Calculation of exact number of unique values required O(N) memory. Therefore, to prevent OOM errors
when working with extremely large dataset and with high-cardinality columns it is recommended to use
<a href="#approximate-distinct-values-metric">Approximate Distinct Values Metric</a> which uses HLL probabilistic algorithm
to estimate number of unique values. Alternatively, consider switching to DF-engine to compute exact number of 
distinct values. This engine uses Spark shuffle mechanism to group data by column (or columns) of interest and
count distinct values.</p>
</blockquote>
<h3 id="approximate-distinct-values-metric">Approximate Distinct Values Metric</h3>
<p>Calculates number of unique values approximately, using 
<a href="https://twitter.github.io/algebird/datatypes/approx/hyperloglog.html">HyperLogLog</a> algorithm.</p>
<p><strong>This metric works with only one column.</strong></p>
<p>Metric is not reversible and fails only if provided value cannot be cast to String.</p>
<p>All approximate distinct values metrics are defined in <code>approximateDistinctValues</code> subsection. 
Additional parameters can be supplied:</p>
<ul>
<li><code>accuracyError</code> - <em>Optional, default is <code>0.01</code></em>. Accuracy error for estimating number of unique values.</li>
</ul>
<h3 id="null-values-metrics">Null Values Metrics</h3>
<p>Counts number of null values in the specified columns. When applied to multiple columns, total
number of null values in these columns is returned. Metric definition does not require additional parameters:
<code>params</code> should not be set.</p>
<p>Metric is reversible. <strong>By default, <code>reversed</code> parameter is set to <code>true</code>, 
i.e. error collection logic is reversed by default.</strong> 
For direct error collection logic, metric increment returns <code>Failure</code> status for rows where some values in the 
specified columns are NON-null. For reversed error collection logic (default one), metric increment returns <code>Failure</code>
status when some values in the specified columns are null. </p>
<p>All distinct values metrics are defined in <code>nullValues</code> subsection.</p>
<h3 id="empty-values-metric">Empty Values Metric</h3>
<p>Counts number of empty values in the specified columns (i.e. empty string values). When applied to multiple columns,
total number of empty values in these columns is returned. Metric definition does not require additional parameters:
<code>params</code> should not be set.</p>
<p>Metric is reversible. <strong>By default, <code>reversed</code> parameter is set to <code>true</code>,
i.e. error collection logic is reversed by default.</strong>
For direct error collection logic, metric increment returns <code>Failure</code> status for rows where some values in the
specified columns are non-empty. For reversed error collection logic (default one), metric increment returns <code>Failure</code>
status when some values in the specified columns are empty.</p>
<p>All distinct values metrics are defined in <code>emptyValues</code> subsection.</p>
<h3 id="completeness-metric">Completeness Metric</h3>
<p>Calculates the measure of completeness in the specified columns: <code>(values_count - null_count) / values_count</code>.
When applied to multiple columns, total number of values and total number of nulls are used in the equation above.</p>
<p>Additional parameters can be supplied:</p>
<ul>
<li><code>includeEmptyStrings</code> - <em>Optional, default is <code>false</code></em>. Boolean parameter indicating whether empty string values
  should be considered as nulls.</li>
</ul>
<p>Metric is reversible. <strong>By default, <code>reversed</code> parameter is set to <code>true</code>,
i.e. error collection logic is reversed by default.</strong>
For direct error collection logic, metric increment returns <code>Failure</code> status for rows where some values in the
specified columns are non-noll (or non-empty if <code>includeEmptyStrings</code> is set to <code>true</code>). 
For reversed error collection logic (default one), metric increment returns <code>Failure</code> status when some values 
in the specified columns are null (or empty if <code>includeEmptyStrings</code> is set to <code>true</code>).</p>
<p>All completeness metrics are defined in <code>completeness</code> subsection.</p>
<h3 id="emptiness-metric">Emptiness Metric</h3>
<p>Calculates the measure of emptiness in the specified columns: <code>null_count / values_count</code>.
When applied to multiple columns, total number of values and total number of nulls are used in the equation above.</p>
<p>Additional parameters can be supplied:</p>
<ul>
<li><code>includeEmptyStrings</code> - <em>Optional, default is <code>false</code></em>. Boolean parameter indicating whether empty string values
  should be considered as nulls.</li>
</ul>
<p>Metric is reversible. <strong>By default, <code>reversed</code> parameter is set to <code>true</code>,
i.e. error collection logic is reversed by default.</strong>
For direct error collection logic, metric increment returns <code>Failure</code> status for rows where some values in the
specified columns are non-noll (or non-empty if <code>includeEmptyStrings</code> is set to <code>true</code>).
For reversed error collection logic (default one), metric increment returns <code>Failure</code> status when some values
in the specified columns are null (or empty if <code>includeEmptyStrings</code> is set to <code>true</code>).</p>
<p>All completeness metrics are defined in <code>emptiness</code> subsection.</p>
<h3 id="sequence-completeness-metric">Sequence Completeness Metric</h3>
<p>Calculates measure of completeness of an incremental sequence of integers. In other words, it looks for the missing 
elements in the sequence and returns the relation: <code>actual number of elements / required number of elements</code>.</p>
<p><strong>This metric works with only one column.</strong></p>
<p>The actual number of elements is just the number of unique values in the sequence.
This metric defines it exactly, and therefore requires <code>O(N)</code> memory to store these values.
Therefore, to prevent OOM errors for extremely large sequences, it is recommended to use
the <a href="#approximate-sequence-completeness-metric">Approximate Sequence Completeness Metric</a>, which uses HLL probabilistic
algorithm to estimate number of unique values.</p>
<p>The required number of elements is determined by the formula: <code>(max_value - min_value) / increment + 1</code>, where:</p>
<ul>
<li><code>min_value</code> - the minimum value in the sequence;</li>
<li><code>max_value</code> - the maximum value in the sequence;</li>
<li><code>increment</code> - sequence step, default is 1.</li>
</ul>
<p>Additional parameters can be supplied:</p>
<ul>
<li><code>incremet</code> - <em>Optional, default is <code>1</code></em>. Sequence increment step.</li>
</ul>
<p>Metric is not reversible and fails only if provided column value cannot be cast to number.</p>
<p>All sequence completeness metrics are defined in <code>sequenceCompleteness</code> subsection.</p>
<h3 id="approximate-sequence-completeness-metric">Approximate Sequence Completeness Metric</h3>
<p>Calculates the measure of completeness of an incremental sequence of integers <strong><em>approximately</em></strong> using 
the <a href="https://twitter.github.io/algebird/datatypes/approx/hyperloglog.html">HyperLogLog</a> algorithm. Works in the same 
way is <a href="#sequence-completeness-metric">Sequence Completeness Metric</a> with only difference, that
actual number of elements in the sequence is determined approximately using HLL algorithm.</p>
<p><strong>This metric works with only one column.</strong></p>
<p>Additional parameters can be supplied:</p>
<ul>
<li><code>incremet</code> - <em>Optional, default is <code>1</code></em>. Sequence increment step.</li>
<li><code>accuracyError</code> - <em>Optional, default is <code>0.01</code></em>. Accuracy error for estimating number of unique values.</li>
</ul>
<p>Metric is not reversible and fails only if provided column value cannot be cast to number.</p>
<p>All approximate sequence completeness metrics are defined in <code>approximateSequenceCompleteness</code> subsection.</p>
<h3 id="minimum-string-metric">Minimum String Metric</h3>
<p>Calculates the minimum string length in the values of the specified columns. 
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p>All minimum string metrics are defined in <code>minString</code> subsection.</p>
<p>Metric is not reversible. Metric increment returns <code>Failure</code> status for rows where all values in the specified 
columns cannot be cast to string and, therefore, minimum string length cannot be computed.</p>
<h3 id="maximum-string-metric">Maximum String Metric</h3>
<p>Calculates the maximum string length in the values of the specified columns.
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p>Metric is not reversible. Metric increment returns <code>Failure</code> status for rows where all values in the specified 
columns cannot be cast to string and, therefore, maximum string length cannot be computed.</p>
<p>All maximum string metrics are defined in <code>maxString</code> subsection.</p>
<h3 id="average-string-metric">Average String Metric</h3>
<p>Calculates the average string length in the values of the specified columns.
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p>Metric is not reversible. Metric increment returns <code>Failure</code> status for rows where all values in the specified
columns cannot be cast to string and, therefore, average string length cannot be computed.</p>
<p>All average string metrics are defined in <code>avgString</code> subsection.</p>
<h3 id="string-length-metric">String Length Metric</h3>
<p>Calculate number of values that meet the defined string length criteria.
Additional parameters should be supplied:</p>
<ul>
<li><code>length</code> - <em>Required</em>. Required string length threshold.</li>
<li><code>compareRule</code> - <em>Required</em>. Comparison rule used to compare actual value string length with threshold one.<ul>
<li>Following comparison rules are supported: <code>eq</code> (==), <code>lt</code> (&lt;), <code>lte</code> (&lt;=), <code>gt</code> (&gt;), <code>gte</code> (&gt;=).</li>
</ul>
</li>
</ul>
<p>Metric is reversible. <strong>By default, <code>reversed</code> parameter is set to <code>false</code>.</strong>
For direct error collection logic, metric increment returns <code>Failure</code> status for rows where some values in 
the specified columns do not meet defined string length criteria.
For reversed error collection logic (default one), metric increment returns <code>Failure</code> status when some values
in the specified columns DO meet defined string length criteria.</p>
<p>All string length metrics are defined in <code>stringLength</code> subsection.</p>
<h3 id="string-in-domain-metric">String In Domain Metric</h3>
<p>Counts number of values which fall into specified set of allowed values.
Additional parameters should be supplied:</p>
<ul>
<li><code>domain</code> - <em>Required</em>. List of allowed values.</li>
</ul>
<p>Metric is reversible. <strong>By default, <code>reversed</code> parameter is set to <code>false</code>.</strong>
For direct error collection logic, metric increment returns <code>Failure</code> status for rows where some values in 
the specified columns do not fall into set of allowed values.
For reversed error collection logic (default one), metric increment returns <code>Failure</code> status when some values
in the specified columns ARE IN set of allowed values.</p>
<p>All string in domain metrics are defined in <code>stringInDomain</code> subsection.</p>
<h3 id="string-out-domain-metric">String Out Domain Metric</h3>
<p>Counts number of values which do <strong>not</strong> fall into specified set of avoided values.
Additional parameters should be supplied:</p>
<ul>
<li><code>domain</code> - <em>Required</em>. List of avoided values.</li>
</ul>
<p>Metric is reversible. <strong>By default, <code>reversed</code> parameter is set to <code>false</code>.</strong>
For direct error collection logic, metric increment returns <code>Failure</code> status for rows where some values in
the specified columns are in set of allowed values.
For reversed error collection logic (default one), metric increment returns <code>Failure</code> status when some values
in the specified columns DO NOT fall into set of allowed values.</p>
<p>All string out domain metrics are defined in <code>stringOutDomain</code> subsection.</p>
<h3 id="string-values-metric">String Values Metric</h3>
<p>Counts number of values that are equal to the value given in metric definition.
Additional parameters should be supplied:</p>
<ul>
<li><code>compareValue</code> - <em>Required</em>. String value to compare with.</li>
</ul>
<p>Metric is reversible. <strong>By default, <code>reversed</code> parameter is set to <code>false</code>.</strong>
For direct error collection logic, metric increment returns <code>Failure</code> status for rows where some values in
the specified columns do not equal to defined compare value.
For reversed error collection logic (default one), metric increment returns <code>Failure</code> status when some values
in the specified columns DO equal to defined compare value.</p>
<p>All string values metrics are defined in <code>stringValues</code> subsection.</p>
<h3 id="regex-match">Regex Match</h3>
<p>Calculates number of values that match the defined regular expression.
Additional parameters should be supplied:</p>
<ul>
<li><code>regex</code> - <em>Required</em>. Regular expression to match.</li>
</ul>
<p>Metric is reversible. <strong>By default, <code>reversed</code> parameter is set to <code>false</code>.</strong>
For direct error collection logic, metric increment returns <code>Failure</code> status for rows where some values in
the specified columns do not match defined regular expression.
For reversed error collection logic (default one), metric increment returns <code>Failure</code> status when some values
in the specified columns DO match defined regular expression.</p>
<p>All regex match metrics are defined in <code>regexMatch</code> subsection.</p>
<h3 id="regex-mismatch">Regex Mismatch</h3>
<p>Calculates number of values that do <strong>not</strong> match the defined regular expression.
Additional parameters should be supplied:</p>
<ul>
<li><code>regex</code> - <em>Required</em>. Regular expression that values should <strong>not</strong> match.</li>
</ul>
<p>Metric is reversible. <strong>By default, <code>reversed</code> parameter is set to <code>false</code>.</strong>
For direct error collection logic, metric increment returns <code>Failure</code> status for rows where some values in
the specified columns DO match defined regular expression.
For reversed error collection logic (default one), metric increment returns <code>Failure</code> status when some values
in the specified columns do not match defined regular expression.</p>
<p>All regex mismatch metrics are defined in <code>regexMismatch</code> subsection.</p>
<h3 id="formatted-date-metric">Formatted Date Metric</h3>
<p>Counts number of values which have the specified datetime format.
Additional parameters can be supplied:</p>
<ul>
<li><code>dateFormat</code> - <em>Optional, default is <code>yyyy-MM-dd'T'HH:mm:ss.SSSZ</code></em>. Target datetime format. 
  The datetime format must be specified using<br/>
<a href="https://spark.apache.org/docs/latest/sql-ref-datetime-pattern.html">Spark Datetime Patterns for Formatting and Parsing</a>.</li>
</ul>
<blockquote>
<p><strong>NOTE</strong> If the specified columns are of type <code>Timestamp</code>, it is assumed that they fit any datetime format and, 
therefore,  metric will return the total number of non-empty cells. 
Accordingly, the datetime format does not need to be specified.</p>
<p><strong>NOTE</strong> Metric is capable of parsing only part of date or time, 
e.g. one can parse column containing year with <code>yyyy</code> format.</p>
</blockquote>
<p>Metric is reversible. <strong>By default, <code>reversed</code> parameter is set to <code>false</code>.</strong>
For direct error collection logic, metric increment returns <code>Failure</code> status for rows where some values in
the specified columns do not conform to defined datetime format.
For reversed error collection logic (default one), metric increment returns <code>Failure</code> status when some values
in the specified columns DO conform to defined datetime format.</p>
<p>All formatted date metrics are defined in <code>formattedDate</code> subsection.</p>
<h3 id="formatted-number-metric">Formatted Number Metric</h3>
<p>Counts number of values which are numeric and number format satisfy defined number format criteria.
Additional parameters should be supplied:</p>
<ul>
<li><code>precision</code> - <em>Required</em>. The total number of digits in the value (excluding the decimal separator).</li>
<li><code>scale</code> - <em>Required</em>. Number of decimal digits in the value.</li>
<li><code>compareRule</code> - <em>Optional, default is <code>inbound</code></em>. Number format comparison rule:<ul>
<li><code>inbound</code> - the value must "fit" into the specified number format: 
  actual precision and scale of the value are less than or equal to given ones.</li>
<li><code>outbound</code> - the value must be outside the specified format: 
  actual precision and scale of the value are strictly greater than given ones.</li>
</ul>
</li>
</ul>
<p>Metric is reversible. <strong>By default, <code>reversed</code> parameter is set to <code>false</code>.</strong>
For direct error collection logic, metric increment returns <code>Failure</code> status for rows where some values in
the specified columns do not satisfy defined number format criteria.
For reversed error collection logic (default one), metric increment returns <code>Failure</code> status when some values
in the specified columns DO meet defined number format criteria.</p>
<p>All formatted date metrics are defined in <code>formattedNumber</code> subsection.</p>
<h3 id="minimum-number-metric">Minimum Number Metric</h3>
<p>Finds minimum number from the values in the specified columns.
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p>Metrics is not reversible and increment returns <code>Failure</code> status for rows where all values in the specified columns 
cannot be cast to number and, therefore, minimum number cannot be computed.</p>
<p>All minimum number metrics are defined in <code>minNumber</code> subsection.</p>
<h3 id="maximum-number-metric">Maximum Number Metric</h3>
<p>Finds maximum number from the values in the specified columns.
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p>Metrics is not reversible and increment returns <code>Failure</code> status for rows where all values in the specified columns
cannot be cast to number and, therefore, maximum number cannot be computed.</p>
<p>All maximum number metrics are defined in <code>maxNumber</code> subsection.</p>
<h3 id="sum-number-metric">Sum Number Metric</h3>
<p>Finds sum of the values in the specified columns.
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p>Metrics is not reversible and increment returns <code>Failure</code> status for rows where some values in the specified columns 
cannot be cast to number.</p>
<p>All sum number metrics are defined in <code>sumNumber</code> subsection.</p>
<h3 id="average-number-metric">Average Number Metric</h3>
<p>Finds average of the values in the specified column.
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p><strong>This metric works with only one column.</strong></p>
<p>Metric is not reversible and metric increment returns <code>Failure</code> status for rows where value in the specified column
cannot be cast to number.</p>
<p>All average number metrics are defined in <code>avgNumber</code> subsection.</p>
<h3 id="standard-deviation-number-metric">Standard Deviation Number Metric</h3>
<p>Finds standard deviation for the values in the specified column.
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p><strong>This metric works with only one column.</strong></p>
<p>Metric is not reversible and metric increment returns <code>Failure</code> status for rows where value in the specified column 
cannot be cast to number.</p>
<p>All average number metrics are defined in <code>stdNumber</code> subsection.</p>
<h3 id="casted-number-metric">Casted Number Metric</h3>
<p>Counts number of values which string value can be converted to a number (double).
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p>Metric is reversible. <strong>By default, <code>reversed</code> parameter is set to <code>false</code>.</strong>
For direct error collection logic, metric increment returns <code>Failure</code> status for rows where some values in
the specified columns cannot be cast to number.
For reversed error collection logic (default one), metric increment returns <code>Failure</code> status when some values
in the specified columns CAN be cast to number.</p>
<p>All sum number metrics are defined in <code>castedNumber</code> subsection.</p>
<h3 id="number-in-domain-metric">Number In Domain Metric</h3>
<p>Counts number of values which being cast to number (double) fall into specified set of allowed numbers.
Additional parameters should be supplied:</p>
<ul>
<li><code>domain</code> - <em>Required</em>. List of allowed numbers.</li>
</ul>
<p>Metric is reversible. <strong>By default, <code>reversed</code> parameter is set to <code>false</code>.</strong>
For direct error collection logic, metric increment returns <code>Failure</code> status for rows where some values in
the specified columns do not fall into set of allowed numbers.
For reversed error collection logic (default one), metric increment returns <code>Failure</code> status when some values
in the specified columns ARE IN set of allowed numbers.</p>
<p>All number in domain metrics are defined in <code>numberInDomain</code> subsection.</p>
<h3 id="number-out-domain-metric">Number Out Domain Metric</h3>
<p>Counts number of values which being cast to number (double) do <strong>not</strong> fall into specified set of avoided numbers.
Additional parameters should be supplied:</p>
<ul>
<li><code>domain</code> - <em>Required</em>. List of avoided numbers.</li>
</ul>
<p>Metric is reversible. <strong>By default, <code>reversed</code> parameter is set to <code>false</code>.</strong>
For direct error collection logic, metric increment returns <code>Failure</code> status for rows where some values in
the specified columns are in set of allowed numbers.
For reversed error collection logic (default one), metric increment returns <code>Failure</code> status when some values
in the specified columns do not fall into set of allowed numbers.</p>
<p>All number out domain metrics are defined in <code>numberOutDomain</code> subsection.</p>
<h3 id="number-less-than-metric">Number Less Than Metric</h3>
<p>Counts number of values which being cast to number (double) are less than (or equal to) the specified value.
Additional parameters should be supplied:</p>
<ul>
<li><code>compareValue</code> - <em>Required</em>. Number to compare with.</li>
<li><code>includeBound</code> - <em>Optional, default is <code>false</code></em>. Specifies whether to include <code>compareValue</code> in the range for comparison.</li>
</ul>
<p>Metric is reversible. <strong>By default, <code>reversed</code> parameter is set to <code>false</code>.</strong>
For direct error collection logic, metric increment returns <code>Failure</code> status for rows where some values in
the specified columns do not satisfy the comparison criteria.
For reversed error collection logic (default one), metric increment returns <code>Failure</code> status when some values
in the specified columns DO MEET the comparison criteria.</p>
<p>All number less than metrics are defined in <code>numberLessThan</code> subsection.</p>
<h3 id="number-greater-than-metric">Number Greater Than Metric</h3>
<p>Counts number of values which being cast to number (double) are greater than (or equal to) the specified value.
Additional parameters should be supplied:</p>
<ul>
<li><code>compareValue</code> - <em>Required</em>. Number to compare with.</li>
<li><code>includeBound</code> - <em>Optional, default is <code>false</code></em>. Specifies whether to include <code>compareValue</code> in the range for comparison.</li>
</ul>
<p>Metric is reversible. <strong>By default, <code>reversed</code> parameter is set to <code>false</code>.</strong>
For direct error collection logic, metric increment returns <code>Failure</code> status for rows where some values in
the specified columns do not satisfy the comparison criteria.
For reversed error collection logic (default one), metric increment returns <code>Failure</code> status when some values
in the specified columns DO MEET the comparison criteria.</p>
<p>All number greater than metrics are defined in <code>numberGreaterThan</code> subsection.</p>
<h3 id="number-between-metric">Number Between Metric</h3>
<p>Counts number of values which being cast to number (double) are within the given interval.
Additional parameters should be supplied:</p>
<ul>
<li><code>lowerCompareValue</code> - <em>Required</em>. The lower bound of the interval.</li>
<li><code>upperCompareValue</code> - <em>Required</em>. The upper bound of the interval.</li>
<li><code>includeBound</code> - <em>Optional, default is <code>false</code></em>. Specifies whether to include interval bounds in the range for comparison.</li>
</ul>
<p>Metric is reversible. <strong>By default, <code>reversed</code> parameter is set to <code>false</code>.</strong>
For direct error collection logic, metric increment returns <code>Failure</code> status for rows where some values in
the specified columns do not satisfy the comparison criteria.
For reversed error collection logic (default one), metric increment returns <code>Failure</code> status when some values
in the specified columns DO MEET the comparison criteria.</p>
<p>All number between metrics are defined in <code>numberBetween</code> subsection.</p>
<h3 id="number-not-between-metric">Number Not Between Metric</h3>
<p>Counts number of values which being cast to number (double) are outside the given interval.
Additional parameters should be supplied:</p>
<ul>
<li><code>lowerCompareValue</code> - <em>Required</em>. The lower bound of the interval.</li>
<li><code>upperCompareValue</code> - <em>Required</em>. The upper bound of the interval.</li>
<li><code>includeBound</code> - <em>Optional, default is <code>false</code></em>. Specifies whether to include interval bounds in the range for comparison.</li>
</ul>
<p>Metric is reversible. <strong>By default, <code>reversed</code> parameter is set to <code>false</code>.</strong>
For direct error collection logic, metric increment returns <code>Failure</code> status for rows where some values in
the specified columns do not satisfy the comparison criteria.
For reversed error collection logic (default one), metric increment returns <code>Failure</code> status when some values
in the specified columns DO MEET the comparison criteria.</p>
<p>All number between metrics are defined in <code>numberNotBetween</code> subsection.</p>
<h3 id="number-values-metric">Number Values Metric</h3>
<p>Counts number of values which being cast to number (double) are equal to the number given in metric definition.
Additional parameters should be supplied:</p>
<ul>
<li><code>compareValue</code> - <em>Required</em>. Number value to compare with.</li>
</ul>
<p>Metric is reversible. <strong>By default, <code>reversed</code> parameter is set to <code>false</code>.</strong>
For direct error collection logic, metric increment returns <code>Failure</code> status for rows where some values in
the specified columns do not equal to defined compare value.
For reversed error collection logic (default one), metric increment returns <code>Failure</code> status when some values
in the specified columns DO equal to defined compare value.</p>
<p>All number values metrics are defined in <code>numberValues</code> subsection.</p>
<h3 id="median-value-metric">Median Value Metric</h3>
<p>Calculates median value of the values in the specified column. Metric calculator uses 
<a href="https://github.com/isarn/isarn-sketches">TDigest</a> library for computation of median value.</p>
<p><strong>This metric works with only one column.</strong>
Additional parameters can be supplied:</p>
<ul>
<li><code>accuracyError</code> - <em>Optional, default is <code>0.01</code></em>. Accuracy error for calculation of median value.</li>
</ul>
<p>Metric is not reversible and metric increment returns <code>Failure</code> status for rows where value in the specified column
cannot be cast to number.</p>
<p>All median value metrics are defined in <code>medianValue</code> subsection.</p>
<h3 id="first-quantile-metric">First Quantile Metric</h3>
<p>Calculates first quantile for the values in the specified column. Metric calculator uses
<a href="https://github.com/isarn/isarn-sketches">TDigest</a> library for computation of first quantile.</p>
<p><strong>This metric works with only one column.</strong>
Additional parameters can be supplied:</p>
<ul>
<li><code>accuracyError</code> - <em>Optional, default is <code>0.01</code></em>. Accuracy error for calculation of first quantile value.</li>
</ul>
<p>Metric is not reversible and metric increment returns <code>Failure</code> status for rows where value in the specified column
cannot be cast to number.</p>
<p>All median value metrics are defined in <code>firstQuantile</code> subsection.</p>
<h3 id="third-quantile-metric">Third Quantile Metric</h3>
<p>Calculates third quantile for the values in the specified column. Metric calculator uses
<a href="https://github.com/isarn/isarn-sketches">TDigest</a> library for computation of third quantile.</p>
<p><strong>This metric works with only one column.</strong>
Additional parameters can be supplied:</p>
<ul>
<li><code>accuracyError</code> - <em>Optional, default is <code>0.01</code></em>. Accuracy error for calculation of third value.</li>
</ul>
<p>Metric is not reversible and metric increment returns <code>Failure</code> status for rows where value in the specified column
cannot be cast to number.</p>
<p>All third value metrics are defined in <code>thirdQuantile</code> subsection.</p>
<h3 id="get-quantile-metric">Get Quantile Metric</h3>
<p>Calculates an arbitrary quantile for the values in the specified column. Metric calculator uses
<a href="https://github.com/isarn/isarn-sketches">TDigest</a> library for computation of quantile.</p>
<p><strong>This metric works with only one column.</strong>
Additional parameters should be supplied:</p>
<ul>
<li><code>accuracyError</code> - <em>Optional, default is <code>0.01</code></em>. Accuracy error for calculation of quantile value.</li>
<li><code>target</code> - <em>Required</em>. A number in the interval <code>[0, 1]</code> corresponding to the quantile that need to be calculated.</li>
</ul>
<p>Metric is not reversible and metric increment returns <code>Failure</code> status for rows where value in the specified column
cannot be cast to number.</p>
<p>All get quantile metrics are defined in <code>getQuantile</code> subsection.</p>
<h3 id="get-percentile-metric">Get Percentile Metric</h3>
<p>This metric is inverse of <a href="#get-quantile-metric">Get Quantile Metric</a>. It calculates a percentile value
(quantile in %) which corresponds to the specified number from the set of values in the column.
Metric calculator uses <a href="https://github.com/isarn/isarn-sketches">TDigest</a> library for computation of percentile value.</p>
<p><strong>This metric works with only one column.</strong>
Additional parameters should be supplied:</p>
<ul>
<li><code>accuracyError</code> - <em>Optional, default is <code>0.01</code></em>. Accuracy error for calculation of percentile.</li>
<li><code>target</code> - <em>Required</em>. The number from the set of values in the column, for which percentile
  is determined.</li>
</ul>
<p>Metric is not reversible and metric increment returns <code>Failure</code> status for rows where value in the specified column
cannot be cast to number.</p>
<p>All get percentile metrics are defined in <code>getPercentile</code> subsection.</p>
<h3 id="column-equality-metric">Column Equality Metric</h3>
<p>Calculates the number of rows where values in the specified columns are equal to each other.
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p><strong>This metric works with at least two columns.</strong></p>
<p>Metric is reversible. <strong>By default, <code>reversed</code> parameter is set to <code>false</code>.</strong>
For direct error collection logic, metric increment returns <code>Failure</code> status for rows where some values in
the specified columns cannot be cast to string or are not equal
For reversed error collection logic (default one), metric increment returns <code>Failure</code> status when some values
in the specified columns cannot be cast to string or ARE equal.</p>
<p>All column equality metrics are defined in <code>columnEq</code> subsection.</p>
<h3 id="day-distance-metric">Day Distance Metric</h3>
<p>Calculates the number of rows where difference between date in two columns expressed in terms of days is less
(strictly less) than the specified threshold value.</p>
<p><strong>This metric works with exactly two columns.</strong>
Additional parameters should be supplied:</p>
<ul>
<li><code>threshold</code> - <em>Required</em>. Maximum allowed difference between two dates in days
  (not included in the range for comparison).</li>
<li><code>dateFormat</code> - <em>Optional, default is <code>yyyy-MM-dd'T'HH:mm:ss.SSSZ</code></em>. Target datetime format.
  The datetime format must be specified as
  <a href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html">Java DateTimeFormatter</a> pattern.</li>
</ul>
<blockquote>
<p><strong>NOTE</strong> If the specified columns are of type <code>Timestamp</code>, it is assumed that they fit any datetime format and,
therefore,  metric will return the total number of non-empty cells.
Accordingly, the datetime format does not need to be specified.</p>
</blockquote>
<p>Metric is reversible. <strong>By default, <code>reversed</code> parameter is set to <code>false</code>.</strong>
For direct error collection logic, metric increment returns <code>Failure</code> status for rows where some values in
the specified columns do not conform to the specified datetime format or when date difference in days 
is greater than or equal to specified threshold.
For reversed error collection logic (default one), metric increment returns <code>Failure</code> status when some values
in the specified columns do not conform to the specified datetime format or when date difference in days
is lower than specified threshold.</p>
<p>All day distance metrics are defined in <code>dayDistance</code> subsection.</p>
<h3 id="levenshtein-distance-metric">Levenshtein Distance Metric</h3>
<p>Calculates number of rows where Levenshtein distance between string values in the provided columns is less than
(strictly less) specified threshold.</p>
<p><strong>This metric works with exactly two columns.</strong>
Additional parameters should be supplied:</p>
<ul>
<li><code>threshold</code> - <em>Required</em>. Maximum allowed Levenshtein distance.</li>
<li><code>normalize</code> - <em>Optional, default is <code>false</code></em>. Boolean parameter indicating whether the Levenshtein distance
  should be normalized with respect to the maximum of the two string lengths.</li>
</ul>
<blockquote>
<p><strong>IMPORTANT</strong>. If Levenshtein distance is normalized then threshold value must be in range <code>[0, 1]</code>.</p>
</blockquote>
<p>Metric is reversible. <strong>By default, <code>reversed</code> parameter is set to <code>false</code>.</strong>
For direct error collection logic, metric increment returns <code>Failure</code> status for rows where some values in
the specified columns cannot be cast to string or when Levenshtein distance is greater than or equal to 
specified threshold.
For reversed error collection logic (default one), metric increment returns <code>Failure</code> status when some values
in the specified columns cannot be cast to string or when Levenshtein distance is lower than specified threshold.</p>
<p>All levenshtein distance metrics are defined in <code>levenshteinDistance</code> subsection.</p>
<h3 id="comoment-metric">CoMoment Metric</h3>
<p>Calculates the covariance moment of the values in two columns (co-moment).
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p><strong>This metric works with exactly two columns.</strong></p>
<p>Metric is not reversible and metric increment returns <code>Failure</code> status for rows where some values in the specified 
columns cannot be cast to number.</p>
<p>All co-moment metrics are defined in <code>coMoment</code> subsection.</p>
<h3 id="covariance-metric">Covariance Metric</h3>
<p>Calculates the covariance of the values in two columns.
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p><strong>This metric works with exactly two columns.</strong></p>
<p>Metric is not reversible and metric increment returns <code>Failure</code> status for rows where some values in the specified 
columns cannot be cast to number.</p>
<p>All covariance metrics are defined in <code>covariance</code> subsection.</p>
<h3 id="covariance-bessel-metric">Covariance Bessel Metric</h3>
<p>Calculates the covariance of the values in two columns with the Bessel correction.
Metric definition does not require additional parameters: <code>params</code> should not be set.</p>
<p><strong>This metric works with exactly two columns.</strong></p>
<p>Metric is not reversible and metric increment returns <code>Failure</code> status for rows where some values in the specified 
columns cannot be cast to number.</p>
<p>All covariance metrics are defined in <code>covarianceBessel</code> subsection.</p>
<h3 id="top-n-metric">Top N Metric</h3>
<p>This is a specific metric that calculates approximate N most frequently occurring values in a column.
The metric calculator uses <a href="https://github.com/twitter/algebird">Twitter Algebird</a> library,
which implements abstract algebra methods for Scala.</p>
<p><strong>This metric works with only one column.</strong></p>
<p>Additional parameters can be supplied:</p>
<ul>
<li><code>targetNumber</code> - <em>Optional, default is <code>10</code></em>. Number N of values to search.</li>
<li><code>maxCapacity</code> - <em>Optional, default is <code>100</code></em>. Maximum container size for storing top values.</li>
</ul>
<p>Metric is not reversible and metric increment returns <code>Failure</code> status for rows where some values in the specified
columns cannot be cast to string.</p>
<p>All top N metrics are defined in <code>topN</code> subsection.</p>
<h2 id="composed-metrics">Composed Metrics</h2>
<p>Composed metrics are defined using a formula (arithmetic expression specified in the <code>formula</code> field) for their calculation. 
As composed metric are intended for using other metric results to compute a derivative result then, these metrics
can be referenced in the formula by their IDs. </p>
<p>Formula must be written using <a href="https://mustache.github.io/mustache.5.html">Mustache Template</a> notation, e.g.:
<code>{{ metric_1 }} + {{ metic_2 }}</code>.</p>
<p>There are following operations supported to build arithmetic expressions:</p>
<ul>
<li>Basic <code>+-*/</code> and exponentiation <code>^</code> math operations.</li>
<li>Grouping using parentheses.</li>
<li>Mathematical functions of single argument:
  <code>abs</code>, <code>sqrt</code>, <code>floor</code>, <code>ceil</code>, <code>round</code> (rounds to the closest integer), <code>ln</code> (natural logarithm), <code>lg</code> (decimal logarithm), <code>exp</code>.</li>
<li>Mathematical functions of two arguments: <code>max</code> and <code>min</code>.</li>
</ul>
<p>Thus, composed metrics are defined in the <code>composed</code> subsection using following parameters:</p>
<ul>
<li><code>id</code> - <em>Required</em>. Composed metric ID;</li>
<li><code>description</code> - <em>Optional</em>. Composed metric description.</li>
<li><code>formula</code> - <em>Required</em>. Formula to calculate composed metric</li>
<li><code>metadata</code> - <em>Optional</em>. List of user-defined metadata parameters specific to this metric where each parameter
  is a string in format: <code>param.name=param.value</code>.</li>
</ul>
<h2 id="trend-metrics">Trend Metrics</h2>
<p>Trend metrics allows computing statistic over historical metric results and are primarily intended to detect anomalies
in the data. In order to compute statistic over historical metric results it is required to define a lookup metric
which results are pulled from DQ storage and also a time window for which to compute the desired statistic.</p>
<p>Thus, trend metrics are defined <code>trend</code> subsection using following set of parameters:</p>
<ul>
<li><code>id</code> - <em>Required</em>. Trend metric ID;</li>
<li><code>description</code> - <em>Optional</em>. Trend metric description.</li>
<li><code>kind</code> - <em>Required</em>. Kind of statistic to be calculated over historical metric results. 
  Available trend metric kinds are: <ul>
<li><code>avg</code> - average of the collected results,</li>
<li><code>std</code> - standard deviation of the collected results,</li>
<li><code>min</code> - minimum value from the collected results,</li>
<li><code>max</code> - maximum value from the collected results,</li>
<li><code>sum</code> - sum of the collected results,</li>
<li><code>median</code> - median value of the collected results,</li>
<li><code>firstQuartile</code> - first quartile of the collected results,</li>
<li><code>thirdQuartile</code> - third quartile of the collected results,</li>
<li><code>quantile</code> - arbitrary quantile of the collected results. It is required to set quantile parameter as shown below.</li>
<li><code>linreg</code> - predicts metric result based on linear regression model trained on collected results.
  <code>referenceDate</code> is transformed to epoch time and used to as X-values. Thus, metric result is
  predicted for current value of <code>referenceData</code>.</li>
<li><code>arima</code> - predicts metric result based on ARIMA model trained on collected results. It is required
  to provide ARIMA model order parameters: auto-regression (p) order, integration (d) order and 
  moving average (q) order as shown below. It is up to user to chose optimal ARIMA model parameters.</li>
</ul>
</li>
<li><code>quantile</code> - <em>Required</em>. <strong>ONLY FOR <code>quantile</code> TREND METRIC</strong>. Quantile to compute over historical metric results
  (must be a number in range <code>[0, 1]</code>).</li>
<li><code>order</code> - <em>Required</em>. <strong>ONLY FOR <code>arima</code> TREND METRIC</strong>. List of ARIMA model order parameters (AR, I, MA): <code>[p, d, q]</code>.</li>
<li><code>lookupMetric</code> - <em>Required</em>. Lookup metric ID: metric which results will be pulled from DQ storage.</li>
<li><code>rule</code> - <em>Required</em>. The rule for loading historical metric results from DQ storage. There are two rules supported:<ul>
<li><code>record</code> - loads specified number of historical metric result records.</li>
<li><code>datetime</code> - loads historical metric results for configured datetime window.</li>
</ul>
</li>
<li><code>windowSize</code> - <em>Required</em>. Size of the window for which historical results are loaded:<ul>
<li>If <code>rule</code> is set to <code>record</code> then window size is the number of records to retrieve.</li>
<li>If <code>rule</code> is set to <code>datetime</code> then window size is a duration string which should conform to Scala Duration.</li>
</ul>
</li>
<li><code>windowOffset</code> - <em>Optional, default is <code>0</code> or <code>0s</code></em>. Set window offset back from current reference date
  (see <a href="../../02-general-information/01-WorkingWithDateTime/">Working with Date and Time</a> chapter for more details on
  reference date). By default, offset is absent and window start from current reference date (not including it).<ul>
<li>If <code>rule</code> is set to <code>record</code> then window offset is the number of records to skip from reference date.</li>
<li>If <code>rule</code> is set to <code>datetime</code> then window offset is a duration string which should conform to Scala Duration.</li>
</ul>
</li>
<li><code>metadata</code> - <em>Optional</em>. List of user-defined metadata parameters specific to this metric where each parameter
  is a string in format: <code>param.name=param.value</code>.</li>
</ul>
<h2 id="metrics-configuration-example">Metrics Configuration Example</h2>
<p>As it is shown in the example below, regular metrics of the same type are grouped within subsections named after the 
type of the metric. These subsections should contain a list of metrics configurations of the corresponding type.
Composed metrics are listed in the separate subsection.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1">jobConfig: {
</span><span id="__span-0-2">  metrics: {
</span><span id="__span-0-3">    regular: {
</span><span id="__span-0-4">      rowCount: [
</span><span id="__span-0-5">        {id: "hive_table_row_cnt", description: "Row count in hive_source_1", source: "hive_source_1"},
</span><span id="__span-0-6">        {id: "csv_file_row_cnt", description: "Row count in hdfs_delimited_source", source: "hdfs_delimited_source"}
</span><span id="__span-0-7">      ]
</span><span id="__span-0-8">      distinctValues: [
</span><span id="__span-0-9">        {
</span><span id="__span-0-10">          id: "fixed_file_dist_name", description: "Distinct values in hdfs_fixed_file",
</span><span id="__span-0-11">          source: "hdfs_fixed_file", columns: ["colA"],
</span><span id="__span-0-12">          metadata: [
</span><span id="__span-0-13">            "requestor=some.person@some.domain"
</span><span id="__span-0-14">            "critical.metric=true"
</span><span id="__span-0-15">          ]
</span><span id="__span-0-16">        }
</span><span id="__span-0-17">      ]
</span><span id="__span-0-18">      nullValues: [
</span><span id="__span-0-19">        {id: "hive_table_nulls", description: "Null values in columns id and name", source: "hive_source_1", columns: ["id", "name"]}
</span><span id="__span-0-20">      ]
</span><span id="__span-0-21">      completeness: [
</span><span id="__span-0-22">        {id: "orc_data_compl", description: "Completness of column id", source: "hdfs_orc_source", columns: ["id"]}
</span><span id="__span-0-23">        {
</span><span id="__span-0-24">          id: "hive_table_nulls", 
</span><span id="__span-0-25">          description: "Completness of columns id and name", 
</span><span id="__span-0-26">          source: "hive_source_1", 
</span><span id="__span-0-27">          columns: ["id", "name"]
</span><span id="__span-0-28">        }
</span><span id="__span-0-29">      ]
</span><span id="__span-0-30">      avgNumber: [
</span><span id="__span-0-31">        {id: "avro_file1_avg_bal", description: "Avg number of column balance", source: "hdfs_avro_source", columns: ["balance"]}
</span><span id="__span-0-32">      ]
</span><span id="__span-0-33">      regexMatch: [
</span><span id="__span-0-34">        {
</span><span id="__span-0-35">          id: "table_source1_inn_regex", description: "Regex match for inn column", source: "table_source_1",
</span><span id="__span-0-36">          columns: ["inn"], params: {regex: """^\d{10}$"""}, reversed: true
</span><span id="__span-0-37">        }
</span><span id="__span-0-38">      ]
</span><span id="__span-0-39">      stringInDomain: [
</span><span id="__span-0-40">        {
</span><span id="__span-0-41">          id: "orc_data_segment_domain", source: "hdfs_orc_source",
</span><span id="__span-0-42">          columns: ["segment"], params: {domain: ["FI", "MID", "SME", "INTL", "CIB"]}
</span><span id="__span-0-43">          reversed: true
</span><span id="__span-0-44">        }
</span><span id="__span-0-45">      ]
</span><span id="__span-0-46">      topN: [
</span><span id="__span-0-47">        {
</span><span id="__span-0-48">          id: "filterVS_top3_currency", description: "Top 3 currency in filterVS", source: "filterVS",
</span><span id="__span-0-49">          columns: ["id"], params: {targetNumber: 3, maxCapacity: 10}
</span><span id="__span-0-50">        }
</span><span id="__span-0-51">      ],
</span><span id="__span-0-52">      levenshteinDistance: [
</span><span id="__span-0-53">        {
</span><span id="__span-0-54">          id: "lvnstDist", source: "table_source_2", columns: ["col1", "col2"],
</span><span id="__span-0-55">          params: {normalize: true, threshold: 0.3}
</span><span id="__span-0-56">        }
</span><span id="__span-0-57">      ]
</span><span id="__span-0-58">    }
</span><span id="__span-0-59">    composed: [
</span><span id="__span-0-60">      {
</span><span id="__span-0-61">        id: "pct_of_null", description: "Percent of null values in hive_table1",
</span><span id="__span-0-62">        formula: "100 * {{ hive_table_nulls }} ^ 2 / ( {{ hive_table_row_cnt }} + 1)"
</span><span id="__span-0-63">      }
</span><span id="__span-0-64">    ]
</span><span id="__span-0-65">    trend: [
</span><span id="__span-0-66">      {
</span><span id="__span-0-67">        id: "avg_completeness",
</span><span id="__span-0-68">        kind: "avg",
</span><span id="__span-0-69">        lookupMetric: "orc_data_compl",
</span><span id="__span-0-70">        description: "Average completeness of column id for last 14 days"
</span><span id="__span-0-71">        rule: "datetime"
</span><span id="__span-0-72">        windowSize: "14d"
</span><span id="__span-0-73">      }
</span><span id="__span-0-74">    ]
</span><span id="__span-0-75">  }
</span><span id="__span-0-76">}
</span></code></pre></div>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "toc.follow", "toc.integrate"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
<script>document$.subscribe(() => {
            window.update_swagger_ui_iframe_height = function (id) {
                var iFrameID = document.getElementById(id);
                if (iFrameID) {
                    full_height = (iFrameID.contentWindow.document.body.scrollHeight + 80) + "px";
                    iFrameID.height = full_height;
                    iFrameID.style.height = full_height;
                }
            }
        
            let iframe_id_list = []
            var iframes = document.getElementsByClassName("swagger-ui-iframe");
            for (var i = 0; i < iframes.length; i++) { 
                iframe_id_list.push(iframes[i].getAttribute("id"))
            }
        
            let ticking = true;
            
            document.addEventListener('scroll', function(e) {
                if (!ticking) {
                    window.requestAnimationFrame(()=> {
                        let half_vh = window.innerHeight/2;
                        for(var i = 0; i < iframe_id_list.length; i++) {
                            let element = document.getElementById(iframe_id_list[i])
                            if(element==null){
                                return
                            }
                            let diff = element.getBoundingClientRect().top
                            if(element.contentWindow.update_top_val){
                                element.contentWindow.update_top_val(half_vh - diff)
                            }
                        }
                        ticking = false;
                    });
                    ticking = true;
                }
            });
        
            const dark_scheme_name = "slate"
            
            window.scheme = document.body.getAttribute("data-md-color-scheme")
            const options = {
                attributeFilter: ['data-md-color-scheme'],
            };
            function color_scheme_callback(mutations) {
                for (let mutation of mutations) {
                    if (mutation.attributeName === "data-md-color-scheme") {
                        scheme = document.body.getAttribute("data-md-color-scheme")
                        var iframe_list = document.getElementsByClassName("swagger-ui-iframe")
                        for(var i = 0; i < iframe_list.length; i++) {
                            var ele = iframe_list.item(i);
                            if (ele) {
                                if (scheme === dark_scheme_name) {
                                    ele.contentWindow.enable_dark_mode();
                                } else {
                                    ele.contentWindow.disable_dark_mode();
                                }
                            }
                        }
                    }
                }
            }
            observer = new MutationObserver(color_scheme_callback);
            observer.observe(document.body, options);
            })</script></body>
</html>