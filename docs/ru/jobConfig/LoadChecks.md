# Load Checks

Load Checks выделены в обособленную группу проверок. Эти проверки работают поверх метаданных источника
и не требуют чтения его содержимого. Этот тип проверок также не зависит от каких-либо метрик.

Load Checks подразделяются на два основных типа: **Pre** и **Post** load.
Из названий очевидно, что одни проверки выполняются до загрузки источника, а другие - после.

На данный момент поддерживаются следующие типы Load Checks:

* **Pre**
    * `exist` - проверка, что источник доступен по указанному пути
    * `encoding` - проверка, что источник может быть загружен с указанной кодировкой
    * `fileType` - проверка, что источник может быть загружен как указанный тип файла
* **Post**
    * `exactColumnNum` - проверка, что количество колонок совпадает с заданным.
    * `minColumnNum` - проверка, что количество колонок не меньше заданного.

> **Важно!** `Pre` load checks работают только с файловыми источниками `hdfs`.

Для описания Load Check в конфигурационном файле необходимо указать следующие параметры:

* `id` - id проверки
* `source` - id источника, который будет проверяться
* `option` - условие для проверки. Тип и возможные значения зависят от типа проверки:
    * `exist` - флаг существования файла: true/false
      (false если, по какой-то причине мы хотим убедиться, что источник отсутствует по заданному пути)
    * `encoding` - имя кодировки файла. Поддерживаются следующие кодировки:
        * US-ASCII, ISO-8859-1, UTF-8, UTF-16BE, UTF-16LE, UTF-16
    * `fileType` - один из поддерживаемых типов файлов (см. [Sources](Sources.md))
    * `exactColumnNum` - точное число колонок
    * `minColumnNum` - минимально допустимое число колонок.

Пример раздела **loadChecks** в конфигурационном файле показан ниже:

```hocon
loadChecks: {
  exist: [
    {id: "loadCheck1", source: "fixed_file1", option: true}
  ]
  encoding: [
    {id: "loadCheck2", source: "csv_file1", option: "UTF-8"}
  ]
  fileType: [
    {id: "loadCheck3", source: "avro_file1", option: "avro"},
    {id: "loadCheck4", source: "csv_file2", option: "delimited"}
  ]
  exactColumnNum: [
    {id: "loadCheck5", source: "csv_file2", option: 3}
  ]
  minColumnNum: [
    {id: "loadCheck6", source: "fixed_file2", option: 2}
  ]
}
```